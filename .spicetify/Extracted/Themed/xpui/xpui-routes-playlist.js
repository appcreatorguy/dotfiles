"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[878],{90110:(e,t,a)=>{a.d(t,{q:()=>T,o:()=>w});var n=a(67294),i=a.n(n),l=a(94184),r=a.n(l),s=a(69518),o=a.n(s),c=a(50020),d=a(96895),m=a(20657),u=a(83692),k=a(24656),p=a(69010),v=a(80946),y=a(6116),g=a(38209),S=a(40080);const b="l_MW0G9qeeCKlVJwBykT",E="BKsbV2Xl786X9a09XROH",N="HbKLiGoYM4dpuK8L4TMX",f="_APVWqivXc4YqgsnpFkP",h="VmwiDoU6RpqyzK_n7XRO",C="rEx3EYgBzS8SoY7dmC6x",F="z3zia5snl987x676qe5w";let T;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(T||(T={}));const R=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},w=({uri:e,isFollowing:t,onFollow:a,size:l=T.sm,className:s,onClick:w=(()=>{})})=>{const L={"--size":`${l}px`},{useDownloading:D,useDownloadCapability:I}=(0,n.useContext)(k.I),[A,x]=(0,n.useState)(!1),[O,P]=I(o().isEpisode(e)),[U,_]=(0,n.useState)(!1),{currentAvailability:B,progress:M,beginDownload:V,clearDownload:j}=D(e);((e,t)=>{const a=(0,g.r)(),i=(0,n.useRef)(!1);(0,n.useEffect)((()=>{e===p.V8.DOWNLOADING&&!1===i.current&&(i.current=!0,a.say(m.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const l=(0,S.D)(e);(0,n.useEffect)((()=>{l===p.V8.DOWNLOADING&&e===p.V8.YES&&(i.current=!1,a.say(m.ag.get("download.complete")))}),[a,l,e])})(B,M);const Q=(0,n.useCallback)((e=>{P===p.v$.DOWNLOADING_NOT_ALLOWED?_(!0):!1===t?(a(),x(!0)):V(),w(e),R(e)}),[V,P,t,w,a]),Z=(0,n.useCallback)((e=>{j(),R(e),w(e)}),[j,w]);return(0,n.useEffect)((()=>{!0===A&&!0===t&&(V(),x(!1))}),[t,A,V]),O===p.PQ.NO_DOWNLOAD_CAPABILITY?null:P===p.v$.DOWNLOADING_NOT_ALLOWED?i().createElement("div",{className:E},i().createElement(u.w,{label:m.ag.get("download.download")},i().createElement("button",{className:r()(N,s),role:"switch",onClick:Q,"aria-label":m.ag.get("download.download"),"aria-checked":!1},i().createElement(c.a,{iconSize:l}))),U&&i().createElement("div",{className:F},i().createElement(v.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{_(!1)}},m.ag.get("download.upsell")))):B===p.V8.YES?i().createElement(u.w,{label:m.ag.get("download.remove")},i().createElement("button",{className:r()(N,s,f),role:"switch",onClick:Z,"aria-label":m.ag.get("download.remove"),"aria-checked":!0},i().createElement(d.C,{iconSize:l}))):B===p.V8.NO?i().createElement(u.w,{label:m.ag.get("download.download")},i().createElement("button",{className:r()(N,s),role:"switch",onClick:Q,"aria-label":m.ag.get("download.download"),"aria-checked":!1},i().createElement(c.a,{iconSize:l}))):i().createElement("div",{className:r()(h,s),role:"switch","aria-checked":!0},i().createElement(u.w,{label:m.ag.get("download.cancel")},i().createElement("button",{style:L,className:r()(N,b,s),onClick:Z,"aria-label":m.ag.get("download.cancel")})),i().createElement("span",{style:L,className:r()(C,b)},i().createElement(y.e,{"aria-valuetext":m.ag.get("progress.downloading-tracks"),percentage:M.percentage,size:l})))}},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},37338:(e,t,a)=>{a.d(t,{T:()=>u});var n=a(67294),i=a.n(n),l=a(15212),r=a(25678),s=a(33732),o=a(42273),c=a(22023);const d="Ws8Ec3GREpT5PAUesr9b",m="kHu_FTRgoBLSLeAJtyKY",u=function({onClick:e,name:t,images:a,canEdit:n,placeholderType:u,shape:k=o.Kc.SQUARE,dragUri:p=""}){const[v,y]=(0,s.RH)(a),g=(0,r.VO)(v,y)===r.KO.loaded,S=(0,l.O1)([p],t);return i().createElement("div",{className:d,"data-testid":`${u}-image`,draggable:!!p,onDragStart:S},i().createElement(o.Oe,{loading:"eager",name:t,images:a,placeholderType:u,shape:k}),n&&i().createElement("div",{className:m},i().createElement(c.F,{overlay:g,onClick:e,rounded:k===o.Kc.CIRCLE})))}},41192:(e,t,a)=>{a.r(t),a.d(t,{Playlist:()=>Ut,default:()=>_t});var n=a(67294),i=a.n(n),l=a(65858),r=a(16528),s=a(69518),o=a.n(s),c=a(96685),d=a(44794),m=a(44503),u=a(32567),k=a(45287),p=a(20657),v=a(30947),y=a(11414),g=a(55911),S=a(20246),b=a(18061),E=a(76343),N=a(32648),f=a(43620),h=a(50062),C=a(4383),F=a(84242),T=a(72138),R=a(87454),w=a(88063),L=a(18228);var D=a(97194),I=a(42038),A=a(83056);const x=(e,t,a)=>({event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(t),lineitem_id:String(a),creative_id:String(t),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}),O=({clickTracking:e,clickThrough:t,thirdPartyImpression:a,impression:r,logoUrl:s,advertiserName:o,creativeId:d,lineItemId:m})=>{const u=(0,l.I0)(),[k,v]=(0,n.useState)(!1);return(0,n.useEffect)((()=>(u((0,A.Vw)()),u((0,A.kh)(x("event_viewed",d,m))),()=>{u((0,A.AG)())})),[u,d,m]),i().createElement("div",{className:"sponsor-container"},i().createElement(E.Dy,{as:"span",variant:c.LF.minuet,className:"sponsor-text","data-ta-id":"sponsor-text"},p.ag.get("playlist.presented_by",o)),i().createElement("div",{className:"sponsor-logo"},i().createElement("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:t,onClick:()=>{u((0,A.kh)(x("event_clicked",d,m))),v(!0)}},i().createElement("img",{draggable:!1,className:"sponsor-logo__image",src:s,alt:o,"data-ta-id":"sponsor-logo"})),i().createElement("img",{className:"sponsor-logo__imp-pixel",src:r,alt:""}),a&&i().createElement("img",{className:"sponsor-logo__3p-imp-pixel",src:a,alt:""}),k&&i().createElement("img",{className:"sponsor-logo__click-img-pixel",src:e,alt:""})))},P=({playlistUri:e})=>{const t=(0,l.I0)(),a=(0,l.v9)((t=>t.ads.sponsoredPlaylist.previewAd||t.ads.sponsoredPlaylist.sponsoredPlaylist.get(e)));return(0,n.useEffect)((()=>{a||t((0,A.fd)(e))}),[t,e,a]),a?i().createElement("div",null,i().createElement(O,a)):null},U=({playlistUri:e})=>{const t=(0,l.I0)(),a=(0,l.v9)((e=>e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships"))),r=(0,l.v9)((e=>e.ads.sponsoredPlaylist.previewAd));(0,n.useEffect)((()=>{a||t((0,A.z8)())}),[t,a]);const s=r||a&&((e,t)=>{const a=Date.now()/1e3,n=e.split(":"),i=n[n.length-1];return t.some((({playlistId:e,endTime:t,startTime:n})=>e===i&&a>=n&&a<(t||a+1)))})(e,a);return s?i().createElement(P,{playlistUri:e}):null};var _=a(1169),B=a(56802),M=a(4236),V=a(36132),j=a(29255),Q=a(90110),Z=a(95661),K=a(13020),z=a(70369),G=a(19565),W=a(98778),q=a(61048),X=a(8455),H=a(62890);const J="hOOwEKqNuXrNvOCB1SgZ",Y="csEdkIN9z2LjJIuZraqz",$=({uri:e})=>{const[t,a]=(0,C.Z)(e),l=(0,r.k6)(),s=(0,n.useCallback)((()=>{a(!1),l.replace("/collection/playlists")}),[l,a]);return i().createElement("div",{className:J},i().createElement(X.Z,{iconSize:64}),i().createElement("div",{className:Y},i().createElement(E.Dy.p,{variant:c.LF.canon},p.ag.get("forbidden-page.title")),i().createElement(E.Dy.p,{variant:c.LF.mesto},p.ag.get("forbidden-page.description"))),t&&i().createElement(H.z,{version:"secondary",onClick:s},p.ag.get("remove_from_your_library")))};var ee=a(84200),te=a(1663),ae=a(55120),ne=a(22423),ie=a(78462),le=a(42922),re=a(28018),se=a(49961),oe=a(28248);const ce=new Set(ie.RJ),de=new Set([]),me={column:null,order:oe.kn.NONE},ue=i().memo((({ariaLabel:e,nrTracks:t,playlistUri:a,rankType:l,scrollToUid:r,usePlayContextItem:s,tracklistDomRef:o})=>{const c=(0,n.useContext)(T.ZF),{filter:d,setFilter:m}=(0,n.useContext)(ne.fo),u=(0,n.useRef)(null),[k,p]=(0,n.useState)(t),v=(0,n.useCallback)((()=>{u.current&&u.current.update()}),[]);(0,re.r)(a,v);const{sortState:y,setSortState:g}=(0,n.useContext)(ie.Gb),S=(0,n.useCallback)((e=>{g((0,V.VK)(e,y))}),[y,g]);(0,n.useEffect)((()=>{u.current&&u.current.update()}),[y,d]),(0,n.useEffect)((()=>{g(me),m("")}),[a,m,g]),(0,n.useEffect)((()=>{u.current&&r&&u.current.scrollToItem({uid:r})}),[r]),(0,n.useEffect)((()=>{u.current&&""===d&&u.current.scrollToFirstSelected()}),[d,k]);const b=(0,n.useCallback)((async(e,t)=>{const n=await c.getContents(a,{offset:e,limit:t,sort:(0,V._j)(y),filter:d,decorateFormatListData:!0});return n.totalLength!==k&&p(n.totalLength),n.items}),[a,c,k,y,d]),E="plays"===l,N=(0,n.useCallback)(((e,t)=>{var n,l,r;const o=(0,se.X)(null===(n=e.album)||void 0===n?void 0:n.images,{desiredSize:40,desiredLabel:"small"});return i().createElement(oe.h_,{key:t+e.uri,index:t,contextUri:a,uri:e.uri,uid:e.uid||void 0,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==o?void 0:o.url)||"",statusChange:null===(l=e.formatListAttributes)||void 0===l?void 0:l.status,showPlayCount:E,playCount:parseInt((null===(r=e.formatListAttributes)||void 0===r?void 0:r.rank)||"0",10),usePlayContextItem:s})}),[a,E,s]),f=(0,n.useMemo)((()=>E?[oe.QD.INDEX,oe.QD.TITLE,oe.QD.PLAYS,oe.QD.ALBUM,oe.QD.DURATION]:[oe.QD.INDEX,oe.QD.TITLE,oe.QD.ALBUM,oe.QD.DURATION]),[E]),h=(0,n.useCallback)((e=>e.uri),[]),C=(0,n.useCallback)((e=>e.id),[]);return i().createElement(le.ZP,{value:"chart-tracklist"},i().createElement(oe.Pv,{key:a,ariaLabel:e,hasHeaderRow:!0,columns:f,sortableColumns:c.getCapabilities().canSort?ce:de,sortState:y,onSort:S,renderRow:N,resolveUri:h,resolveUid:C,nrTracks:k,fetchTracks:b,limit:100,canFetchAllTracks:c.getCapabilities().canFetchAllTracks,outerRef:u,outerDomRef:o}))}));var ke=a(67154),pe=a.n(ke),ve=a(6479),ye=a.n(ve),ge=a(73197),Se=a(76955),be=a(83692);const Ee="CpQBQL6M4D3bquNOpKd9",Ne=["uri","label"],fe=e=>{let{uri:t,label:a}=e,n=ye()(e,Ne);const{onCopyLink:l}=(0,Se.l)({uri:t,permissionLevel:"CONTRIBUTOR"});return i().createElement(be.w,{label:a},i().createElement(ge.I,pe()({},n,{className:Ee,onClick:l,iconSize:32})))};var he=a(83979),Ce=a(94184),Fe=a.n(Ce),Te=a(79202),Re=a(29547),we=a(34031),Le=a(91802);a(98984);const De={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]},Ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearchAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]}}]}}]},Ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearchArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"following"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]};var xe=a(86912),Oe=a(47130),Pe=a(78034),Ue=a(64005);const _e={filterInputContainer:"scu52wCcmMwOKyeaKQQl",filterInput:"amTaUy6eMlbKh0wzrOnb",overlay:"qbOLHzBszqCGWkyrK_ga",searchIconContainer:"tQYCHXfrpZchZQUj1SB3",searchIcon:"At01nHT_5bSZWtf053vQ",clearButton:"YVhFT5kSA0aTMbgmACwa"},Be=i().memo((({placeholder:e,onChange:t=(()=>{}),onFocus:a=(()=>{})})=>{const l=(0,d.W6)(m.DW),[r,s]=(0,n.useState)(""),o=(0,n.useRef)(null),c=(0,Ue.y)((e=>{t(e)}),200),u=(0,n.useCallback)((e=>{const t=e.currentTarget.value;s(t),c(t)}),[s,c]),k=(0,n.useCallback)((()=>{o.current&&o.current.focus(),s(""),t("")}),[s,t]),v=(0,n.useCallback)((e=>{"Escape"===e.key&&r&&k()}),[r,k]),y=l?xe.z:Oe.h;return i().createElement("div",{className:_e.filterInputContainer,role:"search"},i().createElement("input",{ref:o,className:Fe()(_e.filterInput,Pe.Z.mesto),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:e,onChange:u,onKeyDown:v,onFocus:a,value:r}),i().createElement("div",{className:_e.overlay},i().createElement("span",{className:_e.searchIconContainer},i().createElement(y,{iconSize:16,className:_e.searchIcon,"aria-hidden":"true"})),r&&i().createElement("button",{className:_e.clearButton,onClick:k,"aria-label":p.ag.get("search.a11y.clear-input")},i().createElement(Te.j,{iconSize:16,className:_e.filterInputIcon}))))}));var Me=a(59713),Ve=a.n(Me),je=a(7073),Qe=a(42781);function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(a),!0).forEach((function(t){Ve()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ze=e=>{var t;return{uid:e.uid,uri:e.track.uri,name:e.track.name,isPlayable:e.track.playability.playable,isMOGEFRestricted:e.track.contentRating.label===je.KS.NineteenPlus,isExplicit:e.track.contentRating.label===je.KS.Explicit,album:{id:e.track.album.id,name:e.track.album.name,imgUrl:(null===(t=e.track.album.coverArt)||void 0===t?void 0:t.sources[0].url)||"",uri:e.track.album.uri},artists:e.track.artists.items.map((e=>({id:e.id,uri:e.uri,name:e.profile.name})))}},Ge=e=>({uid:e.uid,uri:e.episode.uri,name:e.episode.name,isPlayable:e.episode.playability.playable,isMOGEFRestricted:e.episode.contentRating.label===je.KS.NineteenPlus,isExplicit:e.episode.contentRating.label===je.KS.Explicit,imgUrl:e.episode.coverArt.sources[0].url,podcast:{id:e.episode.podcast.id,uri:e.episode.podcast.uri,name:e.episode.podcast.name}}),We=({renderRow:e,searchResults:t})=>i().createElement(oe.Pv,{ariaLabel:p.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:oe.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[oe.QD.TITLE,oe.QD.ALBUM,oe.QD.ADD],testID:"playlist-inline-curation-loaded-results"}),qe=({renderRow:e,searchResults:t})=>i().createElement(oe.Pv,{ariaLabel:p.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:oe.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[oe.QD.TITLE,oe.QD.ALBUM,oe.QD.ADD]});var Xe=a(2751);const He=({renderRow:e,searchResults:t})=>{const a=t.filter((e=>void 0!==e.album)),n=t.filter((e=>e.uri.includes("album")));return i().createElement("div",null,i().createElement(E.Dy.p,{variant:c.LF.cello,className:Xe.Z.artistResultListTitle},p.ag.get("playlist.curation.popular_songs")),i().createElement(oe.Pv,{ariaLabel:p.ag.get("playlist.curation.popular_songs"),renderRow:e,rowPlaceholder:oe.hU,nrTracks:a.length,tracks:a,resolveUri:e=>e.uri,columns:[oe.QD.TITLE,oe.QD.ALBUM,oe.QD.ADD]}),i().createElement(E.Dy.p,{variant:c.LF.cello,className:Xe.Z.artistResultListTitle},p.ag.get("playlist.curation.albums")),i().createElement(oe.Pv,{ariaLabel:p.ag.get("playlist.curation.albums"),renderRow:e,rowPlaceholder:oe.hU,nrTracks:n.length,tracks:n,resolveUri:e=>e.uri,columns:[oe.QD.TITLE,oe.QD.ALBUM,oe.QD.ADD]}))},Je=({renderRow:e,searchResults:t})=>i().createElement(oe.Pv,{ariaLabel:p.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:oe.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[oe.QD.TITLE,oe.QD.ALBUM,oe.QD.ADD]}),Ye=({renderRow:e,searchResults:t})=>i().createElement(oe.Pv,{ariaLabel:p.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:oe.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[oe.QD.TITLE,oe.QD.ALBUM,oe.QD.ADD]}),$e=({renderRow:e,searchResults:t})=>i().createElement(oe.Pv,{ariaLabel:p.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:oe.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[oe.QD.TITLE,oe.QD.ALBUM,oe.QD.ADD]});var et=a(73012),tt=a(7739);const at={artistIcon:"CObqC4tKIxndgOfVt0qO",artistImagePlaceholder:"B0R7SaPqNInmy05nthoD",podcastIcon:"dbo3BN_cc87RHKV_ZMuu",albumIcon:"Jlc5PS2fJiUWY0wUSUvg",searchResultTitle:"fKkKrFjxSMU606ACBqLI",searchResultContainer:"jtZMR8Hj94od6BQce98P",rowContent:"lpBFb0X6x8nHjG7PKVsB",searchResultTitleContainer:"t_UwLSijpLSE4QBPX2n_",seeMoreButton:"mkczfE2FHWc6jIT4m1N9",seeMoreRowButton:"DHlWJVgQyjwF8ApxcZxE"},nt=({searchResult:e,index:t,isRTL:a,onClick:n})=>{var l;const r=null===(l=e.coverArt)||void 0===l?void 0:l.sources[0].url;return i().createElement(tt.RX,{className:at.searchResultContainer,rowIndex:t,"aria-selected":!1},i().createElement("div",{"aria-label":`${p.ag.get("artist-page.tracks.seemore")} ${e.name}`,className:at.seeMoreRowButton,onClick:n},i().createElement(tt.id,{columnIndex:0,className:at.rowContent},void 0!==r?i().createElement("img",{className:at.albumIcon,src:e.coverArt.sources[0].url,alt:e.name}):null,i().createElement("div",{className:at.searchResultTitleContainer},i().createElement(E.Dy.p,{className:at.searchResultTitle,variant:c.LF.ballad},e.name),i().createElement(E.Dy.p,{variant:c.LF.mesto,color:et.nh1},p.ag.get("album")))),i().createElement(tt.id,{columnIndex:1}),i().createElement(tt.id,{columnIndex:2},i().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:at.seeMoreButton,onClick:n},a?i().createElement(we.e,{className:at.icon}):i().createElement(Re.V,{className:at.icon})))))};var it=a(68156);const lt=({size:e})=>i().createElement("div",{className:at.artistImagePlaceholder},i().createElement(it.i,{iconSize:e})),rt=({searchResult:e,index:t,isRTL:a,onClick:n})=>{var l;const r=null===(l=e.visuals.avatarImage)||void 0===l?void 0:l.sources[0].url;return i().createElement(tt.RX,{className:at.searchResultContainer,rowIndex:t,"aria-selected":!1},i().createElement("div",{"aria-label":`${p.ag.get("artist-page.tracks.seemore")} ${e.profile.name}`,className:at.seeMoreRowButton,onClick:n,"data-testid":"playlist-inline-curation-artist"},i().createElement(tt.id,{columnIndex:0,className:at.rowContent},void 0!==r?i().createElement("img",{className:at.artistIcon,src:r,alt:e.profile.name}):i().createElement(lt,{size:16}),i().createElement("div",{className:at.searchResultTitleContainer},i().createElement(E.Dy.p,{className:at.searchResultTitle,variant:c.LF.ballad},e.profile.name),i().createElement(E.Dy.p,{variant:c.LF.mesto,color:et.nh1},p.ag.get("artist")))),i().createElement(tt.id,{columnIndex:1}),i().createElement(tt.id,{columnIndex:2},i().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.profile.name}`,className:at.seeMoreButton,onClick:n},a?i().createElement(we.e,{className:at.icon}):i().createElement(Re.V,{className:at.icon})))))},st=({episode:{uid:e,uri:t,name:a,imgUrl:n,podcast:l,isPlayable:r,isMOGEFRestricted:s,isExplicit:o},contextUri:c,index:d,usePlayContextItem:m})=>i().createElement(oe.YK,{uid:e,uri:t,isPlayable:r,isMOGEFRestricted:s,isExplicit:o,contextUri:c,name:a,imgUrl:n,index:d,podcast:l,usePlayContextItem:m}),ot=({label:e,index:t,isRTL:a,onClick:n})=>i().createElement(tt.RX,{className:at.searchResultContainer,rowIndex:t,"aria-selected":!1},i().createElement("div",{"aria-label":e,className:at.seeMoreRowButton,onClick:n},i().createElement(tt.id,{columnIndex:0,className:at.rowContent},i().createElement(E.Dy.p,{className:at.searchResultTitle,variant:c.LF.ballad},e)),i().createElement(tt.id,{columnIndex:1}),i().createElement(tt.id,{columnIndex:2},i().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":e,className:at.seeMoreButton,onClick:n},a?i().createElement(we.e,{className:at.icon}):i().createElement(Re.V,{className:at.icon}))))),ct=({track:{uid:e,uri:t,album:a,name:n,artists:l,isPlayable:r,isExplicit:s,isMOGEFRestricted:o},contextUri:c,index:d,usePlayContextItem:m})=>i().createElement(oe.cp,{uid:e,uri:t,isPlayable:r,isMOGEFRestricted:o,isExplicit:s,contextUri:c,name:n,imgUrl:a.imgUrl,index:d,album:a,artists:l,usePlayContextItem:m});function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(a),!0).forEach((function(t){Ve()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}let ut;!function(e){e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS"}(ut||(ut={}));const kt=(e,t)=>"GO_BACK"===t.type?1===e.breadcrumbs.length?e:e=mt(mt({},e),{},{breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}):"NAV_TO_ENTITY"===t.type?e=mt(mt({},e),{},{breadcrumbs:[...e.breadcrumbs,t.level]}):("NAV_TO_RESULTS"===t.type?e=mt(mt({},e),{},{breadcrumbs:[...e.breadcrumbs,t.level]}):"CHANGE_TERM"===t.type&&(e={term:t.term,breadcrumbs:[{navType:ut.SEARCH,term:t.term,title:""}]}),e),pt=({resultList:e,level:t,isRTL:a,playlistUri:l,navToResults:r,navToEntity:s,term:d})=>{var m;let u=e;const k=(e=>e.filter((({uri:e})=>o().isTrack(e)||o().isEpisode(e))).map((({uri:e,uid:t})=>({type:o().isTrack(e)?Qe.p.TRACK:Qe.p.EPISODE,uri:e,uid:t,provider:null}))))(e),{usePlayContextItem:v}=(0,F.n)({uri:`${l.replace("spotify:","spotify:internal:recs:")}:${encodeURIComponent(d)}:${null!==(m=null==t?void 0:t.navType)&&void 0!==m?m:0}`,pages:[{items:k}]},{featureIdentifier:"search"}),y=(0,n.useCallback)(((e,t)=>e?void 0!==e.profile?i().createElement(rt,{isRTL:a,index:t,key:e.uri,searchResult:e,onClick:()=>{s({navType:ut.ARTIST,uri:e.uri,title:e.profile.name})}}):void 0!==e.podcast?i().createElement(st,{key:e.uri,index:t,episode:e,contextUri:l.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:v}):void 0!==e.album?i().createElement(ct,{key:e.uri,index:t,track:e,contextUri:l.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:v}):e.isSeeAllXRow?i().createElement(ot,{isRTL:a,index:t,label:e.label,key:e.uri,onClick:()=>{r({navType:e.type,term:d,title:e.label})}}):e.uri.includes("album")?i().createElement(nt,{index:t,key:e.uri,isRTL:a,searchResult:e,onClick:()=>{s({navType:ut.ALBUM,uri:e.uri,title:e.name})}}):null:null),[a,s,r,l,d,v]);if(""===d)return i().createElement("div",{className:Xe.Z.emptySearchTermContainer});if(!e||0===(null==e?void 0:e.length))return i().createElement("div",{className:Xe.Z.emptyStateContainer},i().createElement(E.Dy.h1,{variant:c.LF.canon},p.ag.get("search.empty-results-title",d)),i().createElement(E.Dy.p,{variant:c.LF.mesto},p.ag.get("search.empty-results-text")));if((null==t?void 0:t.navType)===ut.SEARCH){const t=[{type:ut.ARTISTRESULTS,label:p.ag.get("playlist.curation.see_all_artists"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-artists"},{type:ut.ALBUMRESULTS,label:p.ag.get("playlist.curation.see_all_album"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-albums"},{type:ut.TRACKRESULTS,label:p.ag.get("playlist.curation.see_all_songs"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-songs"}];return u=[...e,...t],i().createElement(We,{renderRow:y,searchResults:u})}return(null==t?void 0:t.navType)===ut.ALBUM?i().createElement(qe,{renderRow:y,searchResults:u}):(null==t?void 0:t.navType)===ut.ARTIST?i().createElement(He,{renderRow:y,searchResults:u}):(null==t?void 0:t.navType)===ut.ALBUMRESULTS?i().createElement(Je,{renderRow:y,searchResults:u}):(null==t?void 0:t.navType)===ut.TRACKRESULTS?i().createElement(Ye,{renderRow:y,searchResults:u}):(null==t?void 0:t.navType)===ut.ARTISTRESULTS?i().createElement($e,{renderRow:y,searchResults:u}):null},vt=({playlistUri:e,onCurationModeChange:t})=>{const[a,r]=(0,n.useState)([]),[s,d]=(0,n.useState)(),m=(0,l.v9)((e=>e.ui.textDirection.isRTL)),{level:u,changeTerm:k,goBack:v,navToEntity:y,navToResults:g,term:S}=(()=>{const[e,t]=(0,n.useReducer)(kt,{term:"",breadcrumbs:[]}),{breadcrumbs:a,term:i}=e;return{changeTerm:e=>{t({type:"CHANGE_TERM",term:e})},level:a[a.length-1]||null,goBack:()=>{t({type:"GO_BACK"})},navToEntity:e=>{t({type:"NAV_TO_ENTITY",level:e})},navToResults:e=>{t({type:"NAV_TO_RESULTS",level:e})},term:i}})(),{request:b}=(0,n.useContext)(Le.Ax),N=(0,n.useCallback)((async e=>{const t=await b(De,{term:e});return(null==t?void 0:t.data.search)||null}),[b]),f=(0,n.useCallback)((async e=>{const t=await b(Ie,{uri:e,offset:0,limit:100});return(null==t?void 0:t.data.album)||null}),[b]),h=(0,n.useCallback)((async e=>{const t=await b(Ae,{uri:e,offset:0,limit:100});return(null==t?void 0:t.data.artist)||null}),[b]);return(0,n.useEffect)((()=>{let e=!0;return(async()=>{var t,a,n;if(u)switch(u.navType){case ut.SEARCH:try{if(!s||s.query!==S&&""!==S){const t=await N(S);e&&d(t)}else""===S&&r([])}catch{r([])}if(s){const e=(e=>{var t,a;const n=null!==(t=null==e||null===(a=e.topResults)||void 0===a?void 0:a.items)&&void 0!==t?t:[];return n.length?n.reduce(((t,a)=>{const n=a.uri,i=o().from(n);if(n&&i)switch(o().from(n)&&o().from(n).type){case o().Type.ALBUM:{var l;const a=((e,t)=>t.find((t=>t.uri===e)))(n,(null==e||null===(l=e.albums)||void 0===l?void 0:l.items)||[]);a&&t.push(a);break}case o().Type.ARTIST:{var r;const a=((e,t)=>t.find((t=>t.uri===e)))(n,(null==e||null===(r=e.artists)||void 0===r?void 0:r.items)||[]);a&&t.push(a);break}case o().Type.TRACK:{var s;const a=((e,t)=>t.find((t=>t.track.uri===e)))(n,(null==e||null===(s=e.tracks)||void 0===s?void 0:s.items)||[]);a&&t.push(ze(a));break}case o().Type.EPISODE:{var c;const a=((e,t)=>t.find((t=>t.episode.uri===e)))(n,(null==e||null===(c=e.episodes)||void 0===c?void 0:c.items)||[]);a&&t.push(Ge(a));break}}return t}),[]):[]})(s);r(e)}break;case ut.ARTISTRESULTS:r(null==s||null===(t=s.artists)||void 0===t?void 0:t.items);break;case ut.ALBUMRESULTS:r(null==s||null===(a=s.albums)||void 0===a?void 0:a.items);break;case ut.TRACKRESULTS:{var i;const e=null==s||null===(i=s.tracks)||void 0===i?void 0:i.items;null!=e&&e.length&&r(e.map((e=>ze(e))));break}case ut.EPISODERESULTS:{var l;const e=null==s||null===(l=s.episodes)||void 0===l?void 0:l.items;null!=e&&e.length&&r(e.map((e=>Ge(e))));break}case ut.ALBUM:try{const t=await f(u.uri);e&&r((e=>{const t={uri:e.uri,id:e.id,name:e.name,coverArt:e.coverArt};return e.tracks.items.map((e=>Ke(Ke({},e),{},{track:Ke(Ke({},e.track),{},{album:t})})))})(t).map((e=>ze(e))))}catch{r([])}break;case ut.ARTIST:try{const t=await h(u.uri);e&&r((n=t).discography?[...n.discography.topTracks.items.map((e=>ze(e))),...n.discography.popularReleases.items.map((e=>{const{uri:t,name:a,coverArt:{sources:n}}=e.releases.items[0];return{uri:t,name:a,coverArt:{sources:n}}}))]:[])}catch{r([])}}})(),()=>{e=!1}}),[u,N,f,h,S,s]),i().createElement(i().Fragment,null,i().createElement("section",{className:Xe.Z.playlistInlineCurationSection},i().createElement("div",{className:Xe.Z.playlistInlineCurationWrapper},i().createElement(E.Dy.h1,{className:Xe.Z.playlistInlineCurationTitle,variant:c.LF.canon},p.ag.get("playlist.curation.title")),i().createElement(n.Suspense,{fallback:null},i().createElement(Be,{placeholder:p.ag.get("playlist.curation.search_placeholder"),onFocus:()=>{t(!0)},onChange:e=>{k(e)}}))),i().createElement("button",{className:Xe.Z.playlistInlineCurationCloseButton,onClick:()=>t(!1)},i().createElement(Te.j,{className:Xe.Z.closeIcon,"aria-label":p.ag.get("close")}))),null!==u&&u.navType!==ut.SEARCH?i().createElement("button",{className:Xe.Z.playlistInlineCurationBackButton,onClick:()=>v()},m?i().createElement(Re.V,{"aria-label":p.ag.get("navbar.go-back"),className:Fe()([Xe.Z.icon,Xe.Z.iconRight])}):i().createElement(we.e,{"aria-label":p.ag.get("navbar.go-back"),className:Fe()([Xe.Z.icon,Xe.Z.iconLeft])}),i().createElement(E.Dy.p,{variant:c.LF.cello},u.title)):null,i().createElement("div",{className:Xe.Z.searchResultListContainer,"data-testid":"playlist-inline-curation-results"},i().createElement(pt,{playlistUri:e,term:S,level:u,resultList:a,navToEntity:y,navToResults:g,isRTL:m})))};var yt=a(32129),gt=a(59916);const St="multiUserAttributionDisplayNamesV2",bt="multiUserAttributionUsernamesV2",Et="multiUserAttributionImages",Nt="multiUserAttributionType";var ft=a(15212),ht=a(35308),Ct=a(82760);function Ft(e){return(0,gt.MW)(e)||(0,gt.JF)(e)}const Tt=new Set(ie.zq),Rt=new Set([]),wt=i().memo((({ariaLabel:e,nrTracks:t,playlistUri:a,playlistName:r,isCollaborative:s,isMixedMedia:c,isLive:d,isBlend:m,hasDateAdded:u,canEdit:k,scrollToUid:v,feedbackPath:y,deleteFeedbackPath:g,usePlayContextItem:S,tracklistRef:b,tracklistDomRef:E,nrCollaborators:N=1})=>{const f=(0,n.useContext)(T.ZF),{filter:h}=(0,n.useContext)(ne.fo),{sortState:C,setSortState:F}=(0,n.useContext)(ie.Gb),[R,w]=(0,n.useState)(t),L=(0,n.useRef)((()=>{})),[D,A]=(0,n.useState)([]),x=(0,n.useRef)({}),O=(0,l.I0)(),P=(0,n.useCallback)((()=>{null!=b&&b.current&&b.current.update()}),[b]);(0,re.r)(a,P);const U=(0,n.useCallback)((e=>{F((0,V.VK)(e,C))}),[C,F]),_=(0,n.useCallback)((e=>{L.current(),f.remove(a,e)}),[f,a]),B=(0,n.useCallback)(((e,t,a=!1)=>{L.current=t,e.length>1&&!a?A(e):_(e)}),[_]);(0,n.useEffect)((()=>{null!=b&&b.current&&b.current.update()}),[C,h,b]),(0,n.useEffect)((()=>{null!=b&&b.current&&v&&b.current.scrollToItem({uid:v})}),[v,b]),(0,n.useEffect)((()=>{null!=b&&b.current&&""===h&&b.current.scrollToFirstSelected()}),[h,R,b]);const M=(0,n.useCallback)((async(e,t)=>{const n=await f.getContents(a,{offset:e,limit:t,sort:(0,V._j)(C),filter:h,decorateFormatListData:!!y||d||m}),i=n.items.filter(((t,a)=>null!==t||(x.current[a+e]=!0,!1))),l=Object.keys(x.current).length;return n.totalLength-l!==R&&w(n.totalLength-l),i}),[a,f,R,C,h,y,d,m]),j=(0,n.useCallback)(((e,t,n)=>{if(null==b||!b.current)return;const i=b.current.getRows();i[t].id&&(n===Ct.W.Before?f.move(a,e,{before:i[t].id}):f.move(a,e,{after:i[t].id}))}),[a,f,b]),Q=(0,n.useCallback)(((e,t,n)=>{if(null==b||!b.current)return;const i=b.current.getRows();i[t].id&&(n===Ct.W.Before?O((0,I.jV)(a,e,{before:i[t].id})):O((0,I.jV)(a,e,{after:i[t].id})))}),[a,O,b]),Z=(0,n.useCallback)(((e,t)=>{var n,l,u,p,v,b;let E,h;const F=!!(0,gt.JF)(e)&&e.podcastSubscription.isUserSubscribed;if((0,gt.JF)(e))E=e.show,h=e.images.concat(e.show.images);else if((0,gt.MW)(e)){var T;E=e.album,h=null===(T=e.album)||void 0===T?void 0:T.images}const R=(0,se.X)(h,{desiredSize:40,desiredLabel:"small"});let w=[];k&&C.order===oe.kn.NONE&&(w=[ft.aN[o().Type.TRACK],ft.aN[o().Type.LOCAL],ft.aN[o().Type.EPISODE]]);const L="1"===(null==e||null===(n=e.formatListAttributes)||void 0===n?void 0:n["dislike-feedback-selected"]);let D=!1;(0,gt.JF)(e)&&e.podcastSubscription.isPaywalled&&!F?D=!0:Ft(e)&&(D=e.isPlayable&&!L);const I=m&&((e,t)=>{var a;const n=[];if(!(t&&St in t&&bt in t&&Et in t&&Nt in t))return n;const i=null==t?void 0:t[St].split(","),l=null==t?void 0:t[bt].split(","),r=null==t||null===(a=t[Et])||void 0===a?void 0:a.split(","),s=null==t?void 0:t[Nt].split(","),c=l.length;for(let e=0;e<c;e++){const t=l[e];n.push({type:Qe.p.USER,username:t,uri:o().profileURI(t).toURI(),displayName:i[e],images:(d=r[e],d.length>1?[{url:d}]:[]),recsplanation:s[e]})}var d;return n.sort(((t,a)=>t.username===(null==e?void 0:e.username)?-1:a.username===(null==e?void 0:e.username)?1:0))})(e.addedBy,null==e?void 0:e.formatListAttributes)||e.addedBy&&[e.addedBy]||[];return i().createElement(oe.dx,{key:t+e.uri,index:t,playIndex:null!==(l=e.playIndex)&&void 0!==l?l:void 0,contextUri:a,uri:e.uri,uid:null!==(u=e.uid)&&void 0!==u?u:void 0,id:e.id,isPlayable:D,duration_ms:Ft(e)?e.duration.milliseconds:0,isPaywalled:!!(0,gt.JF)(e)&&e.podcastSubscription.isPaywalled,isUserSubscribed:F,name:Ft(e)?e.name:"",artists:(0,gt.MW)(e)?e.artists:void 0,albumOrShow:E,isExplicit:(0,gt.MW)(e)&&e.isExplicit,isCollaborative:s,nrCollaborators:N,isMixedMedia:c,isLocal:(0,gt.MW)(e)&&e.isLocal,addedBy:I,hasDecoratedAddedBy:f.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,gt.JF)(e)&&e.release.date.toString()||"",isMOGEFRestricted:(0,gt.MW)(e)&&e.is19PlusOnly,type:e.type,imgUrl:(null==R?void 0:R.url)||"",onMove:j,onInsert:Q,usePlayContextItem:S,allowedDropTypes:w,feedbackPath:y,feedbackUri:null==e||null===(p=e.formatListAttributes)||void 0===p?void 0:p.feedback_uri,deleteFeedbackPath:g,isDisliked:L,playlistName:r,isLive:d,isBlend:m,ticketingSiteURL:null==e||null===(v=e.formatListAttributes)||void 0===v?void 0:v.ticketingSite,eventDate:null==e||null===(b=e.formatListAttributes)||void 0===b?void 0:b.eventDate})}),[k,C,a,s,N,c,f,j,Q,S,y,g,r,d,m]);return i().createElement(i().Fragment,null,i().createElement(le.ZP,{value:"playlist-tracklist"},i().createElement(oe.Pv,{testID:"playlist-tracklist",key:a,ariaLabel:e,hasHeaderRow:!0,columns:(0,V.RG)(s,c,u,d,m,N),sortableColumns:f.getCapabilities().canSort?Tt:Rt,sortState:C,onSort:U,onRemove:B,renderRow:Z,resolveUri:e=>e.uri,resolveUid:e=>e.id,nrTracks:R,fetchTracks:M,limit:100,canFetchAllTracks:f.getCapabilities().canFetchAllTracks,outerRef:b,outerDomRef:E})),i().createElement(ht.h,{title:p.ag.get("playlist.remove_from_playlist",r),isOpen:D.length>0,tracks:D,onClose:e=>{e.stopPropagation(),A([])},onRemove:_}))}));var Lt=a(42714),Dt=a(27826);function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function At(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(Object(a),!0).forEach((function(t){Ve()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const xt=i().memo((({playlistUri:e,playlistLength:t})=>{const{tracks:a,refresh:l,onAdd:r}=((e,t=10)=>{const a=2*t,i=3*t,l=(0,n.useRef)(0),[r,s]=(0,n.useState)(e),[o,c]=(0,n.useState)([]),d=(0,n.useRef)([]),m=(0,n.useContext)(Lt.Z);(0,n.useEffect)((()=>(c([]),s(e),d.current=[],l.current=l.current+1,()=>{l.current=l.current+1})),[e]),(0,n.useEffect)((()=>{if(o.length<a){const e=Math.min(a,i-o.length),t=l.current;m.getRecommendedTracks(r,d.current,e).then((a=>{if(t!==l.current)return;const n=a.map((e=>(null==e?void 0:e.uri)&&Dt.o.from(e.uri).id)).filter((e=>null!==e));a.length<e&&d.current.length?d.current=[]:d.current=[...d.current,...n],c((e=>[...e,...a]))}))}}),[a,i,m,r,o.length]);const u=(0,n.useCallback)((()=>{c((e=>e.slice(t)))}),[t]),k=(0,n.useCallback)((e=>{c((t=>t.filter((t=>t.uri!==e))))}),[]);return{tracks:o.slice(0,t),_bufferedTracks:o.slice(t),refresh:u,onAdd:k}})(e),s=!t||0===t,{usePlayContextItem:o}=(0,F.n)({uri:e.replace("spotify:","spotify:internal:recs:"),pages:[{items:a.map((e=>At(At({},e),{},{provider:null,type:Qe.p.TRACK,uid:null})))}]},{featureIdentifier:"playlist_recommendations"}),d=(0,n.useCallback)(((t,a)=>i().createElement(oe.cp,{key:t.uri,index:a,imgUrl:t.album.imageUrl,contextUri:e.replace("spotify","spotify:internal:recs"),uri:t.uri,isPlayable:!t.isMOGEFRestricted,name:t.name,artists:t.artists,onItemAdded:()=>r(t.uri),album:At(At({},t.album),{},{imgUrl:t.album.imageUrl}),isExplicit:t.explicit,isMOGEFRestricted:t.isMOGEFRestricted,usePlayContextItem:o})),[e,o,r]),m=(0,n.useMemo)((()=>[oe.QD.TITLE,oe.QD.ALBUM,oe.QD.ADD]),[]),u=(0,n.useCallback)((e=>e.uri),[]),k=(0,n.useCallback)((e=>e.id),[]),v=(0,n.useMemo)((()=>a.slice(0,Math.min(a.length,10))),[a]);return a.length>0?i().createElement("div",{className:Xe.Z.recommendedTrackList},i().createElement("div",{className:Xe.Z.top},i().createElement("div",{className:Xe.Z.header},i().createElement(E.Dy,{variant:c.LF.canon,className:Xe.Z.title},p.ag.get("playlist.extender.recommended.title")),i().createElement(E.Dy,{variant:c.LF.mesto,className:Xe.Z.subtitle},s?p.ag.get("playlist.extender.title.in.playlist"):p.ag.get("playlist.extender.songs.in.playlist")))),a.length?i().createElement(i().Fragment,null,i().createElement(oe.Pv,{ariaLabel:p.ag.get("playlist.extender.recommended.title"),key:`${e}-recommended`,nrTracks:Math.min(a.length,10),rowPlaceholder:oe.hU,tracks:v,renderRow:d,resolveUri:u,resolveUid:k,columns:m}),i().createElement(H.z,{version:"tertiary",className:Xe.Z.refreshButton,onClick:l},i().createElement(E.Dy,{variant:c.LF.minuetBold},p.ag.get("playlist.extender.refresh")))):null):null})),Ot=i().lazy((()=>a.e(682).then(a.bind(a,45685)))),Pt=(e,t,a,n,i,l,r)=>e?ie.RJ:(0,V.RG)(t,a,n,i,l,r),Ut=i().memo((({metadata:e,capabilities:t})=>{var a;const{uri:s,name:k,images:T,totalLength:D,isOwnedBySelf:A,isCollaborative:x,hasEpisodes:O,hasSpotifyTracks:P,canAdd:X,canRemove:H,canPlay:J,formatListData:Y,hasDateAdded:$,collaborators:te}=e,le="chart"===(null==Y?void 0:Y.type),re="live-streams"===(null==Y?void 0:Y.type),se="blend"===(null==Y?void 0:Y.type),oe=!!O,ce=(null==Y?void 0:Y.attributes)||{},de=ce.header_image_url_desktop||ce.image_url||null,me=(0,d.W6)(m.pg),ke=X&&H,pe=t.canFilter&&D>0,ve=t.canSort&&D>0,{filterBoxApiRef:ye,filterBoxDomRef:ge,tracklistDomRef:Se,handleKeyDown:be}=(0,_.Q)(),Ee=(0,M.k)(),Ne=Ee&&D>0,{scrollNodeChildRef:Ce}=(0,n.useContext)(N.VX),{productState:Fe}=(0,l.v9)(j.Gg),Te=!!Fe&&parseInt(Fe.ads,10)>0,[Re,we]=(0,n.useState)(ke&&0===D&&me),Le=(0,l.I0)(),De=(0,r.k6)(),Ie="POP"!==De.action?new URLSearchParams(De.location.search).get("uid"):null,[Ae,xe]=(0,C.Z)(s),Oe=(0,B.o)(),{filter:Pe}=(0,n.useContext)(ne.fo),{sortState:Ue}=(0,n.useContext)(ie.Gb),_e=(0,n.useRef)(null),[Be]=T,Me=(0,f.Z)(null!==de?de:(null==Be?void 0:Be.url)||null),{isPlaying:Ve,togglePlay:je,usePlayContextItem:Qe}=(0,F.n)(function(e,t,a){const n={uri:e};return(0,R.R)(n,t),(0,w.IC)(n,(0,L.cj)(a)),n}(s,(0,V._j)(Ue),Pe),{featureIdentifier:"playlist"}),Ze=(0,n.useCallback)((()=>je()),[je]),Ke=(0,n.useCallback)((async()=>{Oe({targetUri:s,intent:Ae?"unsave":"save",type:"click"});try{await xe(!Ae)}catch{}}),[Oe,s,Ae,xe]),ze=e=>{we(e)};(0,n.useEffect)((()=>{var e;Ce&&Re&&(null===(e=Ce.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[Ce,Re]);const Ge=(0,n.useCallback)((e=>{const t=e.split(/[\r\n]+/g).map((e=>o().from(e))).filter((e=>o().isTrack(e)||o().isEpisode(e)));if(t.length>0&&X){var a,n,i;const e=t.map((e=>e.toURI())),l=null===(a=_e.current)||void 0===a||null===(n=a.getSelected())||void 0===n||null===(i=n.slice(-1))||void 0===i?void 0:i[0],r={after:(null==l?void 0:l.uid)||"end"};Le((0,I.jV)(s,e,r))}}),[X,Le,s]);return(0,h.aw)(Ge),i().createElement(n.Suspense,{fallback:null},i().createElement(z.$,null,p.ag.get("playlist.page-title",k)),i().createElement("section",{role:"presentation",className:Xe.Z.playlist,"data-testid":"playlist-page","data-test-uri":s,onKeyDown:be},i().createElement(he.s,{metadata:e,isPlaying:Ve,togglePlay:Ze,backgroundColor:Me}),i().createElement("div",{className:Xe.Z.playlistContent},i().createElement(v.o,{backgroundColor:Me},i().createElement(v.F,null,J?i().createElement(ae.$,{onClick:Ze,isPlaying:Ve,size:g.qE.lg,uri:s,ariaPlayLabel:p.ag.get("playlist.a11y.play",k),ariaPauseLabel:p.ag.get("playlist.a11y.pause",k)}):null,A&&P&&i().createElement(b.F,{property:m.Up,renderNewExperience:()=>i().createElement(u.v,{uri:s})}),A?null:i().createElement(W.r,null,i().createElement(y.H,{isAdded:!!Ae,onClick:Ke,size:y.q.md})),Ne?i().createElement(Q.o,{uri:s,isFollowing:!!Ae,onFollow:Ke,size:Q.q.md}):null,i().createElement(b.F,{property:m.bM,renderNewExperience:()=>{var t;return null!==(t=e.permissions)&&void 0!==t&&t.canAdministratePermissions?i().createElement(fe,{label:p.ag.get("permissions.invite-collaborators",k),uri:s}):null}}),i().createElement(S.y,{menu:i().createElement(K.X,{uri:s})},i().createElement(Z.z,{label:p.ag.get("more.label.context",k)})),pe&&ve&&i().createElement("div",{className:Xe.Z.searchBoxContainer},i().createElement(n.Suspense,{fallback:null},i().createElement(q.K,{placeholder:p.ag.get("playlist.search_in_playlist"),filterBoxApiRef:ye,outerRef:ge})),i().createElement(yt.c,{columns:Pt(le,x,oe,$,re,se,null!==(a=null==te?void 0:te.count)&&void 0!==a?a:1)})))),i().createElement("div",{className:"contentSpacing"},Te?i().createElement(U,{playlistUri:s}):null,D>0?i().createElement(n.Suspense,{fallback:null},le?i().createElement(ue,{key:s,ariaLabel:k,nrTracks:D,playlistUri:s,rankType:ce.rank_type||"",scrollToUid:Ie,usePlayContextItem:Qe,tracklistDomRef:Se}):i().createElement(wt,{key:s,ariaLabel:k,nrTracks:D,playlistUri:s,playlistName:k,hasDateAdded:$,isCollaborative:x,isMixedMedia:oe,isLive:re,isBlend:se,canEdit:ke,scrollToUid:Ie,feedbackPath:ce["dislike-endpoint"],deleteFeedbackPath:ce["delete-endpoint"],usePlayContextItem:Qe,tracklistRef:_e,tracklistDomRef:Se,nrCollaborators:null==te?void 0:te.count})):i().createElement(n.Suspense,{fallback:null},i().createElement(b.F,{property:m.pg,renderNewExperience:()=>null,renderOldExperience:()=>i().createElement(G.u,{message:p.ag.get("playlist.empty_state_subtitle"),title:p.ag.get("playlist.empty_state_title"),linkTo:"/browse/newreleases",linkTitle:p.ag.get("browse.new-releases"),renderInline:!0},i().createElement(ee.Z,null))})),A?i().createElement(n.Suspense,{fallback:null},i().createElement(b.F,{property:m.pg,renderNewExperience:()=>Re?i().createElement(vt,{playlistUri:s,onCurationModeChange:ze}):i().createElement("button",{className:Xe.Z.seeMore,onClick:()=>{ze(!0)}},i().createElement(E.Dy,{as:"div",variant:c.LF.minuetBold},p.ag.get("playlist.curation.find_more"))),renderOldExperience:()=>null})):null,A&&!Re&&Ee?i().createElement(xt,{playlistUri:s,playlistLength:e.totalLength}):null)))," ")})),_t=i().memo((()=>{const{playlistId:e}=(0,r.UO)(),{search:t}=(0,r.TH)(),a=(0,d.W6)(m.bM),s=(0,n.useContext)(T.ZF).getCapabilities(),c=o().playlistV2URI((e||"").split("&")[0]).toURI(),{isAnonymous:u}=(0,l.v9)(j.Gg),{isEnhanced:v}=(0,k.U)(c);(0,n.useEffect)((()=>{const e=new URLSearchParams(t).get("prid");if(!u&&e){const t=`https://spclient.wg.spotify.com/algotorial-sharing-service/v1/shared?playlistId=${c}&sharedEntityUri=${e}`;(0,D.k)().request(t,{method:"POST",authorize:!0,allowOffline:!0})}}),[c,u,t]);const y=(0,T.ET)(c,{decorateFormatListData:!0,withSync:!0,hydrateCollaboratorsWithMembers:a});if(!y)return i().createElement(te.h,{hasError:!1,errorMessage:p.ag.get("error.not_found.title.playlist"),loadOffline:s.canModifyOffline});if(y.permissions&&!y.permissions.canView)return i().createElement($,{uri:c});const g=i().createElement(ie.kz,{uri:c},i().createElement(ne.hz,{uri:c},i().createElement(Ut,{metadata:y,capabilities:s})));return i().createElement(b.F,{property:m.Up,renderNewExperience:()=>v?i().createElement(Ot,{metadata:y}):g,renderOldExperience:()=>g})}))},83979:(e,t,a)=>{a.d(t,{s:()=>F});var n=a(67294),i=a.n(n),l=a(96685),r=a(44794),s=a(44503),o=a(20657),c=a(55911),d=a(18261),m=a(58548),u=a(13020),k=a(37338),p=a(42273),v=a(59482),y=a(72907),g=a(67892),S=a(55120),b=a(24172),E=a(32810);function N(e){return e.user||null}function f(e){return!!e}function h(e,t=!1){return{id:e.username,uri:e.uri,name:e.username,displayName:e.displayName||void 0,images:e.images,isMadeFor:t}}var C=a(2751);const F=function({metadata:e,isPlaying:t,togglePlay:a,backgroundColor:F}){const{uri:T,name:R,description:w,images:L,totalLength:D,totalLikes:I,duration:A,owner:x,isOwnedBySelf:O,isCollaborative:P,formatListData:U,madeFor:_,collaborators:B}=e,M=(null==U?void 0:U.attributes)||{},V=M.header_image_url_desktop||M.image_url||null,j=null!==V?[{url:V,width:null,height:null}]:[],Q=(0,r.W6)(s.G8),Z=(0,r.W6)(s.bM),K=Q&&O,z=(0,n.useMemo)((()=>function(e,t,a=[],n){return e?[h(e,!0)]:a.length>1&&n?a.map(N).filter(f).map((e=>h(e))):[h(t)]}(_,x,null==B?void 0:B.items,Z)),[_,x,null==B?void 0:B.items,Z]),G=(0,n.useContext)(b.zy),W=(0,n.useContext)(E.S7),q=(0,n.useCallback)((()=>{W({type:"open",uri:T})}),[W,T]),X=(0,n.useCallback)((e=>{G({type:"open",playlistDetails:{name:R,description:w,image:L[0],uri:T},focusedElement:e})}),[G,R,w,L,T]),H=(0,n.useCallback)((()=>{G({type:"openWithImagePicker",playlistDetails:{name:R,description:w,image:L[0],uri:T}})}),[G,R,w,L,T]),J=Z&&e.permissions?null!==(Y=e.permissions)&&void 0!==Y&&Y.isPrivate?o.ag.get("private_playlist"):o.ag.get("public_playlist"):P?o.ag.get("sidebar.collaborative_playlist"):o.ag.get("playlist");var Y;return i().createElement(p.gF,{backgroundColor:F,backgroundImages:j},i().createElement(v.W,null,i().createElement(S.$,{size:c.qE.sm,onClick:a,isPlaying:t,uri:T}),i().createElement(y.i,{text:R,dragUri:T,dragLabel:R})),V?null:i().createElement(d._,{menu:i().createElement(u.X,{uri:T})},i().createElement("div",{className:C.Z.playlistImageContainer},i().createElement(k.T,{canEdit:K,name:R,images:L,onClick:H,placeholderType:"playlist",dragUri:T}))),i().createElement(p.sP,null,i().createElement(p.dy,{small:!0,uppercase:!0},J),i().createElement(d._,{menu:i().createElement(u.X,{uri:T})},i().createElement(p.xd,{canEdit:K,onClick:()=>X(b.w.TITLE),dragUri:T,dragLabel:R,ariaLabel:o.ag.get("playlist.edit-details.button",R)},R)),w&&i().createElement(p.dy,{bold:!1,gray:!0,canEdit:K,onClick:e=>(e=>{e.target.href||X(b.w.DESCRIPTION)})(e)},i().createElement(m.kf,{paragraphClassName:C.Z.playlistDescription,source:w,LinkComponent:g.r,variant:l.LF.viola})),i().createElement(p.QS,{creators:z,onPiledCreatorsClick:q,totalTracks:D,totalLikes:I||0,durationMilliseconds:null==A?void 0:A.milliseconds,isEstimatedDuration:null==A?void 0:A.isEstimate,newEntries:parseInt(M.new_entries_count||"0",10)})))}},32129:(e,t,a)=>{a.d(t,{c:()=>u});var n=a(67294),i=a.n(n),l=a(20657),r=a(36132),s=a(95289),o=a(5292),c=a(28248),d=a(78462);function m(e){return!!e}const u=({columns:e})=>{const t=[...e];t.splice(2,0,c.QD.ARTIST);const{sortState:a,setSortState:u}=(0,n.useContext)(d.Gb),k=function(e){return null===e.column?o.mE[c.QD.INDEX]:(0,r.cB)(e.column,e.order)?o.mE[c.QD.ARTIST]:o.mE[e.column]}(a),p=(0,n.useCallback)((e=>{u((0,o.WQ)(e,a.column,a.order))}),[u,a.column,a.order]),v=(0,n.useCallback)((()=>null!==a.column),[a.column]),y=t.map((e=>o.mE[e])).filter(m);return i().createElement(s.A,{options:y,onSelect:p,selected:k,isSelectionChanged:v,sortOrder:a.order,heading:l.ag.get("drop_down.sort_by")})}},35308:(e,t,a)=>{a.d(t,{h:()=>v});var n=a(67294),i=a.n(n),l=a(96685),r=a(20657),s=a(16229),o=a(76343),c=a(85105);const d="J0xJcBaKhwl9EIuzvhLg",m="ce3qMCnc2kDVSi7k74fh",u="tlBLfMv0fCxd31jPTQhL",k="AytCc2WKUld6N212Pcpu",p="Uw9aTbBCa7QzSsZSGAG5",v=i().memo((({onClose:e,onRemove:t,isOpen:a,tracks:v,title:y})=>{const g=(0,n.useCallback)((a=>{t(v),e(a)}),[t,e,v]);return i().createElement(c.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:y,isOpen:a},i().createElement("div",{className:d},i().createElement(o.Dy,{as:"h2",variant:l.LF.cello,className:m},y),i().createElement(o.Dy,{as:"p",variant:l.LF.mesto,className:u},r.ag.get("playlist.remove_multiple_description")),i().createElement("div",{className:k},i().createElement(s.Y,{className:p,version:"tertiary",onClick:e},r.ag.get("playlist.delete-cancel")),i().createElement(s.Y,{version:"primary",onClick:g},r.ag.get("remove")))))}))},32567:(e,t,a)=>{a.d(t,{v:()=>y});var n=a(6479),i=a.n(n),l=a(67154),r=a.n(l),s=a(67294),o=a.n(s),c=a(95688),d=a(24209),m=a(20657),u=a(83692),k=a(45287);const p=["uri"],v=e=>o().createElement(c.d,r()({semanticColor:"textPositive"},e)),y=e=>{let{uri:t}=e,a=i()(e,p);const{isEnhanced:n,toggleIsEnhanced:l}=(0,k.U)(t);return o().createElement(u.w,{label:n?m.ag.get("web-player.enhance.button_aria_label_enhanced"):m.ag.get("web-player.enhance.button_aria_label_not_enhanced")},o().createElement(d.P,r()({buttonSize:"sm"},a,{iconLeading:n?v:void 0,onClick:l}),n?m.ag.get("web-player.enhance.button_text_enhanced"):m.ag.get("web-player.enhance.button_text_not_enhanced")))}},1169:(e,t,a)=>{a.d(t,{Q:()=>i});var n=a(67294);const i=()=>{const e=(0,n.useRef)(null),t=(0,n.useRef)(null),a=(0,n.useRef)(null);return{filterBoxApiRef:e,filterBoxDomRef:t,tracklistDomRef:a,handleKeyDown:n=>{var i,l,r;"Escape"===n.key&&((null!==(i=t.current)&&void 0!==i&&i.contains(n.target)||null!==(l=a.current)&&void 0!==l&&l.contains(n.target))&&(null===(r=e.current)||void 0===r||r.clearFilter()))}}}},40080:(e,t,a)=>{a.d(t,{D:()=>i});var n=a(67294);function i(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}},2751:(e,t,a)=>{a.d(t,{Z:()=>n});const n={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",playlist:"dZ3U5sTGUTdanNamXe1z",searchBoxContainer:"KodyK77Gzjb8NqPGpcgw",recommendedTrackList:"kwe0I8sSNMv3gYBjkRYP",playlistContent:"rezqw3Q4OEPB1m4rmwfw",playlistDescription:"fUYMR7LuRXv0KJWFvRZA",top:"PZkwbwJD1afoCmJkGt8w",header:"yP3JLuwUNDIQHxRFilK3",subtitle:"NCKSUYdZaTMrobq8ilkc",refreshButton:"QmGi2oa43BTcEZ5MCr9T",playlistImageContainer:"oq1ci28WPaRsWkvRiB_J",playlistInlineCurationSection:"Ykd_JWqkR9gSLHISDBwP",playlistInlineCurationWrapper:"g9xHCCSXDR8S5NvTbfwL",playlistInlineCurationTitle:"SMJIXlalPk_TESlyt2pC",playlistInlineCurationCloseButton:"FC40AOSbVM9LXjVi7bjO",playlistInlineCurationBackButton:"hVcUafGrnsA6nD1dJzc5",artistResultListTitle:"rARdlCShKVQsvuXamFOX",seeMore:"STDuzt77yRCueC4Ohenl",emptyStateContainer:"Bl_kg24BjWgcXPokgEKy",searchResultListContainer:"sAPXlA_oxu_8x1Cn0NTC",emptySearchTermContainer:"_Z2TnFjt8GB5ryOtvyti",icon:"tzeKawjOOKFw1KfQ34mG"}}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map