"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[713],{28622:(e,t,a)=>{a.r(t),a.d(t,{Show:()=>Kt,default:()=>Vt});var n=a(67294),r=a.n(n),l=a(16528),i=a(96685),o=a(44794),s=a(44503),c=a(59713),m=a.n(c),u=a(28760),d=a(59385),g=a(47034),E=a(25678),y=a(49961),p=a(85105);const v="GPPWAsVio35hH080drEK",b="f8FyVnjsXfG9VtTzk9Df",h="tpOdce3HYBF6ASz4MXdr",k="p9AillvR7MCZkOrv3U3h",f="zMqHdOQtjEEbcMV7YHe9",C="zPJ5qeQhpgUvKpAAlNpA",P="n3G4Y43jgF6wXOuj0X44";function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const N=r().memo((({coverArt:e,showAccessInfo:t,isOpen:a,toggleModal:n,backgroundColor:l})=>{if(!t||!t.partnerLink)return null;const{partnerLink:{title:o,body:s,soaPartners:c}}=t,m=(0,y.X)(e,{desiredSize:640}),S={"--bg-color":l};return r().createElement(p.Z,{contentLabel:"activation-modal",isOpen:a,onRequestClose:n},r().createElement("div",{className:v,style:w({},S)},r().createElement(E.Ee,{loading:"lazy",src:null==m?void 0:m.url,className:b}),r().createElement("div",{className:h},r().createElement(u.Dy,{as:"p",variant:i.LF.canon,className:k},o),r().createElement(u.Dy,{as:"p",variant:i.LF.viola,className:f},s),c&&(null==c?void 0:c.map((e=>r().createElement("a",{href:e.entrypointUrl,className:C,key:e.entrypointUrl},r().createElement("img",{src:e.logoUrl||"",alt:"",width:"24px"}),r().createElement("span",{className:P},r().createElement(u.Dy,{variant:i.LF.ballad},e.displayName," ")),r().createElement(g.X,{fill:d.white,height:16,width:16}))))))))}));var A=a(95661),O=a(22345),D=a(56802),L=a(20657),I=a(20246),x=a(44887),F=a(7469),z=a(42781),M=a(76343);const R={container:"SpVoh9vvBN0kIwzfCiBh",isActive:"nsGHaEmn310z9W4RMbb8",title:"PfYVlZzroXSurDmS_kxY",main:"kCT99_BcJQtW47mEfVF6",titleContainer:"gmDgEbPyRXNixmjYAT9f",duration:"itbbweiDUhLIrwEjSRWv",trailerContainer:"XlZGcb86bItwlMPQ2jOf",image:"VGTtqfOlX2jIbpff6mPP",imageContainer:"aexqooSgfdW95poEaxjH",playButton:"Fui2wGupk4F1Khigbrhj",entityImageLarge:"jWcvSz47NFpbLjnkFT1O",entityImageSmall:"Oo6MP8F01W5uGlnw8dag"};var U=a(55911),T=a(94184),j=a.n(T),B=a(33985),G=a(87257),Z=a(57978),_=a(95775),W=a(84788),X=a(46245);let Y;!function(e){e.SMALL="small",e.LARGE="large"}(Y||(Y={}));const q=({images:e,title:t,contentRating:a,duration:n,moreButton:l,onClick:o,onContextMenu:s,onTouchStart:c,onTouchEnd:m,isPlaying:u,isActive:d,size:g,className:E,enableEncoreWebMigration:y,label:p})=>{const v=g===Y.LARGE?U.qE.md:U.qE.sm,b=g===Y.LARGE?"md":"sm",{badges:h}=(0,W.r)({contentRating:a});return r().createElement("div",{"data-testid":"trailer-component",className:j()(R.container,E,{[R.isActive]:d}),onContextMenu:s,onTouchStart:c,onTouchEnd:m},r().createElement("div",{className:R.main},r().createElement("div",{className:R.imageContainer},r().createElement(x.O,{type:z.p.EPISODE,title:t,className:j()(R.image,{[R.entityImageSmall]:g===Y.SMALL,[R.entityImageLarge]:g===Y.LARGE}),size:F.m$.SIZE_56,images:e,shape:x.K.ROUNDED_CORNERS}),r().createElement("div",{className:R.playButton},y?r().createElement(X.fh,{"data-testid":"trailer-play-button",version:U.ul.transparent,size:b,isPlaying:u,onClick:o}):r().createElement(U.JM,{"data-testid":"trailer-play-button",version:U.ul.transparent,size:v,isPlaying:u,onClick:o}))),r().createElement("div",{className:R.metadata},r().createElement("div",{className:R.titleContainer},r().createElement(M.Dy,{dir:"auto",className:R.title,variant:i.LF.balladBold},t)),r().createElement("div",{className:R.trailerContainer},r().createElement(_.V,{text:p}),h.explicit&&r().createElement(G.N,null),h.nineteen&&r().createElement(Z.X,null),r().createElement(M.Dy,{dir:"auto",variant:i.LF.mesto},r().createElement(B.nL,{durationMs:n}))))),l)};var H=a(43620),K=a(84242),V=a(27999),$=a(86649),Q=a(8247),J=a(60410),ee=a(192);var te=a(20238),ae=a(67892),ne=a(92851);const re="nLNTsyonBwoRIzAv1AME",le="E4I5I7G2CfW32hLWZaqE",ie=({title:e,uri:t,className:a})=>{const n=(0,ne.$)(t);return r().createElement(ae.r,{"aria-label":e,className:j()(le,a),to:n},r().createElement(M.Dy,{dir:"auto",variant:i.LF.mestoBold},e))};function oe(e){return!!e.uri&&!!e.title}const se=({topics:e,className:t})=>r().createElement("div",{className:j()(re,t)},e.filter(oe).map((e=>r().createElement(ie,{key:e.uri,title:e.title,uri:e.uri})))),ce={sectionTitle:"igKG5CnS4gyhXQWp5GVu",author:"E8g_EyijtSREXL0vMFbL",narrator:"Pc8AKn4KmzHwEw8lPiSb",topics:"yE1clVJOE3LrEuOvUxxq"},me=({authorName:e,htmlDescription:t,narrators:a})=>{const l=(0,D.o)(),o=(0,n.useCallback)((()=>{l({intent:"expand-description",type:"click"})}),[l]),s=[{title:"Education",uri:"spotify:genre:educational_podcasts"}],c=s.length>0;return r().createElement(r().Fragment,null,r().createElement(M.Dy,{as:"h3",variant:i.LF.canon,color:"var(--spice-text)",className:ce.sectionTitle},L.ag.get("artist.about")),r().createElement(M.Dy,{as:"p",variant:i.LF.ballad,className:ce.author},L.ag.get("web-player.audiobooks.author",e)),a.length?r().createElement(M.Dy,{as:"p",variant:i.LF.ballad,className:ce.narrator},L.ag.get("web-player.audiobooks.narratedByX",a.join(L.ag.getSeparator()))):null,c&&r().createElement(se,{topics:s,className:ce.topics}),t&&r().createElement(te.o,{maxLines:4,content:t,htmlContent:t,LinkComponent:ae.Z,onExpanded:o,className:ce.description}))};var ue=a(30947),de=a(14535),ge=a(4383),Ee=a(98778),ye=a(55120),pe=a(4236);const ve=r().memo((({backgroundColor:e,uri:t,isPlaying:a,togglePlay:l,isLocked:i})=>{const[o,s]=(0,ge.Z)(t),c=!(0,pe.k)(),m=(0,D.o)(),u=(0,n.useCallback)((()=>{m({targetUri:t,intent:o?"unsave":"save",type:"click"}),s(!o)}),[m,t,o,s]);return r().createElement(ue.o,{backgroundColor:e},r().createElement(ue.F,null,r().createElement(ye.$,{onClick:()=>l(),isPlaying:a,size:U.qE.lg,uri:t,locked:i}),r().createElement(Ee.r,{key:"follow-button"},r().createElement(de.e,{isFollowing:o,onClick:u,disabled:c,buttonText:o?L.ag.get("saved"):L.ag.get("save")}))))}));var be=a(32626),he=a(28137),ke=a(42273),fe=a(59482),Ce=a(72907);const Pe=r().memo((({coverArt:e,name:t,authorName:a,uri:n,backgroundColor:l,isPlaying:i,togglePlay:o,isLocked:s})=>r().createElement(ke.gF,{backgroundColor:l},r().createElement(fe.W,null,r().createElement(ye.$,{size:U.qE.sm,onClick:()=>o(),isPlaying:i,uri:n,locked:s}),r().createElement(Ce.i,{text:t,dragUri:n,dragLabel:t})),r().createElement(be._P,{menu:r().createElement(he.X,{uri:n})},r().createElement(ke.Oz,{images:e,name:t,shape:x.K.ROUNDED_CORNERS})),r().createElement(ke.sP,null,r().createElement(ke.dy,{small:!0,uppercase:!0},L.ag.get("web-player.audiobooks.audiobook")),r().createElement(ke.xd,{canEdit:!1,onClick:()=>{}},t),r().createElement(ke.QS,{author:a})))));var Se=a(69518),we=a.n(Se),Ne=a(73012),Ae=a(75016),Oe=a(24656),De=a(69010),Le=a(8341),Ie=a(5944),xe=a(92408),Fe=a(31610);const ze="BO8KtKFwgSHtMt6PAmuv",Me="b0Vng72SrQiFroJKXfk2",Re="eWxDd0LanTnTlSl8SOHX",Ue="eAOkseqV13_CAmzuDJpa",Te="fovofKIYdEIURgIYoKm2",je="we_1b4qCQBaFPT12eUXp",Be="NXXFrQO7npgPCRuSKaAA",Ge="ekkhhuxKVGAzkEmuh9kE",Ze="zd6xqobF255bxHFtCmXy",_e=r().memo((({name:e,duration:t,uri:a,bookUri:o,bookName:s,usePlayContextItem:c,isLocked:m,isPlayable:u,resumePositionMs:d,isFullyPlayed:g,releaseDate:E,toggleActivationModal:y})=>{const p=(0,l.k6)(),v=we().from(a).toURLPath(!0),[b,h]=(0,n.useState)(g),k=(0,n.useRef)(d),{isPlaying:f,togglePlay:C}=c({uri:a}),P=(0,Le.Y)((e=>{var t;if((null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===a){var n;const t=null!==(n=(0,Ie.k)(e))&&void 0!==n?n:0;return k.current=t,t}return 0})),{useDownloading:S}=(0,n.useContext)(Oe.I),{currentAvailability:w}=S(a),N=[De.V8.YES,De.V8.DOWNLOADING,De.V8.WAITING].includes(w),D=(0,n.useCallback)((e=>{e.stopPropagation(),e.preventDefault()}),[]),I=(0,n.useCallback)((e=>{D(e),v&&p.push(v)}),[D,v,p]),x=(0,n.useCallback)((e=>{D(e),m?y():C()}),[m,D,y,C]),F=(0,n.useCallback)((e=>{e||(k.current=0),h(e)}),[]);return r().createElement(be._P,{menu:r().createElement(O.r,{uri:a,showUri:o,isPlayed:b,onMarkAsPlayed:F})},r().createElement("div",{className:Ue},r().createElement(ae.r,{to:a,onClick:I,className:ze,tabIndex:-1},r().createElement("hr",{className:Re,"aria-hidden":!0}),r().createElement("div",{className:Me},r().createElement(M.Dy,{as:"h2",variant:i.LF.balladBold,className:Be,color:Ne.ixZ},e),r().createElement("div",{className:Ge},r().createElement(X.fh,{size:"sm",version:X.ul.secondary,onClick:x,isPlaying:f,ariaPlayLabel:L.ag.get("tracklist.a11y.play",e,s),ariaPauseLabel:L.ag.get("tracklist.a11y.pause",e,s),locked:m,disabled:!u&&!m}),m?r().createElement(Ae.g,null):null,r().createElement("div",{className:Ze},r().createElement(xe.E,{isPlaying:f,fullyPlayed:b,durationMs:t.milliseconds,releaseDate:E,resumePositionMs:k.current,position:f?P:void 0}))),r().createElement(be.yj,{menu:r().createElement(O.r,{uri:a,showUri:o,isPlayed:b,onMarkAsPlayed:F})},r().createElement(A.z,{className:Te,size:Fe.q.sm,label:L.ag.get("more.label.context",e),onClick:D})),r().createElement(Fe.o,{uri:a,bookUri:o,className:j()({[je]:!N}),onClick:D,size:Fe.q.sm})))))})),We="mmCZ5VczybT9VqKB5wFU",Xe="At_ihDspJfh1yw3Cn2cq",Ye="q9WSh3pBJkL9Zyp8zyS7",qe="eiC4nh70nb5UHZBYMgNA",He="qcUG6XxCBqe75bTAbGTY",Ke="uU7tdAyRmWf_U95Daugm",Ve=r().memo((({metadata:e})=>{var t,a;const{uri:l,coverArt:s,name:c,htmlDescription:m,authorName:u,sample:d,narrators:g}=e,E=(0,H.Z)(null===(t=s[0])||void 0===t?void 0:t.url),y=function(e){const t=(0,ee.z)(),[a,r]=(0,n.useState)(null);return(0,n.useEffect)((()=>{t.getBookContents(e).then((e=>{r(e)}))}),[t,e]),a}(l),[p,v]=(0,n.useState)(!1),b=(0,n.useCallback)((()=>v(!p)),[p]),h=(0,D.o)(),k=(0,o.W6)(Q.iY),f=(0,V.ye)(l),{togglePlay:C,isPlaying:P,usePlayContextItem:S}=(0,K.n)({uri:l},{featureIdentifier:"audiobook"}),{isActive:w,isPlaying:x,togglePlay:F}=S({uri:(null==d?void 0:d.uri)||""}),z=(0,n.useCallback)((()=>{null!=d&&d.uri&&(h({targetUri:d.uri,intent:x?"play":"pause",type:"click"}),F())}),[x,h,F,null==d?void 0:d.uri]),R=(0,J.g)(y);return r().createElement("section",{className:We},r().createElement(Pe,{name:c,authorName:u,uri:l,coverArt:s,backgroundColor:E,togglePlay:R?b:C,isPlaying:P,isLocked:R}),r().createElement(ve,{backgroundColor:E,uri:l,togglePlay:R?b:C,isPlaying:P,isLocked:R}),r().createElement("div",{className:Xe},r().createElement("div",{className:qe},r().createElement(M.Dy,{as:"h1",variant:i.LF.canon,className:He},L.ag.get("web-player.audiobooks.chapters")),r().createElement("ul",null,y&&y.map((e=>{const{name:t,duration:a,uri:n,playability:{playable:i},playedState:{playPositionMilliseconds:o,state:s},releaseDate:m}=e;return r().createElement(_e,{name:t,duration:a,uri:n,bookUri:l,bookName:c,key:n,usePlayContextItem:S,isLocked:(0,J.S)(e),isPlayable:i,resumePositionMs:o,isFullyPlayed:s===$.sY.Completed,releaseDate:(null==m?void 0:m.isoString)||"",toggleActivationModal:b})})))),r().createElement("div",{className:Ye},r().createElement(me,{htmlDescription:m,authorName:u,narrators:g}),d&&r().createElement(q,{label:L.ag.get("sample"),className:Ke,images:d.coverArt||[],title:d.name,duration:d.duration.milliseconds,moreButton:r().createElement(I.y,{menu:r().createElement(O.r,{uri:d.uri,showUri:l})},r().createElement(A.z,null)),onClick:z,isPlaying:x,isActive:w,size:Y.LARGE,contentRating:null===(a=d.contentRating)||void 0===a?void 0:a.label,enableEncoreWebMigration:k}))),p&&f&&r().createElement(N,{backgroundColor:E,isOpen:p,toggleModal:b,coverArt:s,showAccessInfo:f}))}));var $e=a(18261),Qe=a(94233),Je=a(39561),et=a(99995),tt=a(49125);const at=(0,n.lazy)((()=>a.e(381).then(a.bind(a,18381))));function nt(e){return(0,o.W6)(s.$f)?r().createElement(n.Suspense,{fallback:!0},r().createElement(at,e)):null}var rt=a(1663),lt=a(38894),it=a(25988),ot=a(86514),st=a(70369),ct=a(33241),mt=a(42922),ut=a(18864),dt=a(22583);const gt=(0,n.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),Et=r().memo((function({uri:e,children:t}){return r().createElement(dt.r,{uri:e,defaultState:[],sortContext:gt,localStorageKey:"showFilterParams-v2"},t)}));var yt=a(26382);const pt={field:yt.ay.PUBLISH_DATE,order:yt.i5.DESC},vt={field:yt.ay.PUBLISH_DATE,order:yt.i5.ASC},bt={field:yt.ay.LENGTH,order:yt.i5.DESC},ht={field:yt.ay.LENGTH,order:yt.i5.ASC},kt={episodic:pt,sequential:vt,recent:pt};function ft(e){return kt[e]}const Ct=(0,n.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:ft("recent")}),Pt=r().memo((function({uri:e,children:t,defaultSortParam:a}){return r().createElement(dt.r,{uri:e,defaultState:a,sortContext:Ct,localStorageKey:"showSortParam"},t)}));var St=a(65858),wt=a(62975),Nt=a(52759),At=a(7073),Ot=a(84629),Dt=a(15212),Lt=a(72917),It=a(21127),xt=a(95806),Ft=a(68107);function zt(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const Mt=r().memo((({index:e,showMetadata:t,episode:a,usePlayContextItem:l})=>{var i,o,s,c,m,u,d,g;const E=null===(i=(0,St.oR)().getState().platform)||void 0===i?void 0:i.isBrowser,y=a.playedState.playPositionMilliseconds,p=a.uri,v=(0,n.useRef)(null),[b,h]=(0,n.useState)(a.playedState.state===At.sY.Completed),k=(0,Dt.O1)(),f=(0,lt.g)(),C=(0,ut.jh)(),P=(0,D.o)(),S=(0,St.I0)(),{isActive:w,isPlaying:N,togglePlay:O}=l({uri:p}),[x]=(0,Nt.z)(1e4,(e=>{var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===p}));(0,n.useEffect)((()=>{N&&(v.current=x)}),[N,x]),(0,n.useEffect)((()=>{!N&&v.current&&a.duration.milliseconds<=v.current&&h(!0)}),[N,a.duration.milliseconds]);const F=(0,n.useCallback)((e=>{e||(v.current=0),h(e)}),[]),z=zt(t),M=(0,Ft.s)(a,z),R=(0,n.useCallback)((()=>{a.episodeType===At.Wf.Episode&&E?wt.y.set((()=>({triggerId:`activation-trigger-mme${a.uri}`,triggerAction:null}))):f?M():(P({targetUri:p,intent:N?"pause":"play",type:"click"}),O())}),[M,P,O,p,N,f,a,E]),U=(0,n.useCallback)((()=>{P({type:"click",targetUri:p,intent:"navigate"})}),[p,P]),T=null!==(o=null===(s=a.podcastSubscription)||void 0===s?void 0:s.isPaywalled)&&void 0!==o&&o,j=null!==(c=null===(m=a.podcastSubscription)||void 0===m?void 0:m.isUserSubscribed)&&void 0!==c&&c,B=T&&!j,_=T&&f,{badges:X}=(0,W.r)({contentRating:null===(u=a.contentRating)||void 0===u?void 0:u.label,isPaywalled:T}),Y=(0,n.useCallback)((()=>S((0,Ot.RM)(t.uri))),[t.uri,S]),q=(0,n.useCallback)((e=>{let n=e;return(B||_)&&(n=r().createElement(xt.l,{enabled:!0,showUri:t.uri},n)),!a.playability.playable&&X.nineteen&&(n=r().createElement("div",{onClick:e=>{e.stopPropagation(),Y()}},e)),n=r().createElement(Lt.c,{id:`activation-trigger-mme-${p}`,targetURI:we().from(p)},n),n}),[p,B,_,t.uri,X.nineteen,a.playability.playable,Y]);return r().createElement(mt.ZP,{value:"row",index:e},r().createElement($e._,{menu:r().createElement(it.k,{uri:p,showUri:t.uri,sharingInfo:a.sharingInfo,isPlayed:b,onMarkAsPlayed:F})},r().createElement(It.X,{index:e,uri:p,size:C,images:a.coverArt||[],name:a.name,showName:t.name,description:a.description,isPlayable:a.playability.playable||B,fullyPlayed:b,durationMs:a.duration.milliseconds,releaseDate:(null===(d=a.releaseDate)||void 0===d?void 0:d.isoString)||"",resumePositionMs:null!==(g=v.current)&&void 0!==g?g:y,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const n=`${a.name} · ${t.name}`;k(e,[p],n,t.uri)},handlePlaybackClick:R,handleClick:U,isCurrentlyPlaying:w,isPaywalled:T,isUserSubscribed:j,isPlaying:N,position:N?x:void 0,episodeSharingInfo:a.sharingInfo,onMarkAsPlayed:F,badges:r().createElement(r().Fragment,null,X.explicit&&r().createElement(G.N,null),X.paid&&r().createElement(Ae.g,null),X.nineteen&&r().createElement(Z.X,{size:16})),playButtonWrapper:q,topActionButtons:r().createElement(I.y,{menu:r().createElement(it.k,{uri:p,showUri:t.uri,sharingInfo:a.sharingInfo,isPlayed:b,onMarkAsPlayed:F})},r().createElement(A.z,{size:A.q.sm,label:L.ag.get("more.label.context",a.name)}))})))})),Rt="Y_WW1akjiQKXSzCBalCD",Ut="NuwyWYpV2HzQDzNBFiaU";function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Bt={totalCount:0,nextOffset:0,items:[]},Gt=r().memo((({showMetadata:e,usePlayContextItem:t})=>{const{sortState:a}=(0,n.useContext)(Ct),{sortState:l}=(0,n.useContext)(gt),i=(0,V.ZM)(e.uri,a,l),[o,s]=(0,n.useState)(Bt),c=(0,n.useRef)(!1),m=(0,n.useRef)(0),{ref:u,breakpoint:d}=(0,ut.Db)({[ut.Uo.MEDIUM]:0,[ut.Uo.LARGE]:600}),g=(0,n.useCallback)(((e=!1)=>{if(!i)return;const t=m.current;null!==t&&(c.current||(c.current=!0,i(t,50).then((a=>{s((n=>{const r=e?[]:[...n.items];return r.splice(t,a.items.length,...a.items),m.current=a.nextOffset,jt(jt({},a),{},{items:r})})),c.current=!1}))))}),[i]);return(0,n.useEffect)((()=>{s(Bt)}),[e.uri]),(0,n.useEffect)((()=>{m.current=0,g(!0)}),[g]),r().createElement(ut.ZU.Provider,{value:d},r().createElement(mt.ZP,{value:"track-list"},r().createElement("div",{ref:u},r().createElement(ct.C,{onReachBottom:g,triggerOnInitialLoad:!0},o.items.map(((a,n)=>r().createElement("div",{className:Ut,key:`${n}${a.uri}`},r().createElement("hr",{className:Rt,"aria-hidden":!0}),r().createElement(Mt,{key:`${a.uri}/${n}`,index:n,episode:a,showMetadata:e,usePlayContextItem:t}))))))))}));var Zt=a(95289);const _t={field:yt.YG.ISPLAYED,operator:yt.NK.EQUALS,value:!1},Wt={field:yt.YG.STARTEDPLAYING,operator:yt.NK.GREATER_THAN,value:0};const Xt="all-episodes",Yt=()=>{const{sortState:e,setSortState:t}=(0,n.useContext)(gt),a=new Map([[_t,{key:"is-played",value:L.ag.get("shows.filter.unplayed")}],[Wt,{key:"started-playing",value:L.ag.get("shows.filter.in-progress")}]]),l=Array.from(a.values());l.unshift({key:Xt,value:L.ag.get("mwp.podcast.all.episodes")});const o=Array.from(a.keys()),s=(0,n.useCallback)((e=>{if(e===Xt)t([]);else{const n=o.find((t=>{var n;return(null===(n=a.get(t))||void 0===n?void 0:n.key)===e}));n&&t([n])}}),[t,o,a]);if(!a.size||!o)return null;let c=l[0];const m=Array.from(a.entries()).filter((t=>null==e?void 0:e.some((e=>e.field===t[0].field&&e.operator===t[0].operator))));return m.length>0&&(c=m[0][1]),r().createElement(Zt.A,{options:l,onSelect:e=>s(e),selected:c,variant:i.LF.balladBold,color:"var(--spice-text)",heading:L.ag.get("drop_down.filter_by")})},qt=()=>{const{sortState:e,setSortState:t}=(0,n.useContext)(Ct),a=new Map([[pt,{key:"newest-to-oldest",value:L.ag.get("shows.sort.newest-to-oldest")}],[vt,{key:"oldest-to-newest",value:L.ag.get("shows.sort.oldest-to-newest")}],[bt,{key:"longest-to-shortest",value:L.ag.get("shows.sort.longest-to-shortest")}],[ht,{key:"shortest-to-longest",value:L.ag.get("shows.sort.shortest-to-longest")}]]),l=Array.from(a.values()),i=Array.from(a.keys()),o=(0,n.useCallback)((e=>{const n=i.find((t=>{var n;return(null===(n=a.get(t))||void 0===n?void 0:n.key)===e}));n&&t(n)}),[i,a,t]);if(!a.size||!e)return null;const s=Array.from(a.keys()).find((t=>t.field===e.field&&t.order===e.order)),c=a.get(s);return r().createElement(Zt.A,{options:l,onSelect:e=>o(e),selected:c,heading:L.ag.get("drop_down.sort_by")})};var Ht=a(82772);const Kt=({metadata:e,showId:t})=>{var a,l;const{uri:c,coverArt:m,name:u,trailer:d,topics:g,description:E,htmlDescription:y,podcastType:p,publisherName:v}=e,b=(0,D.o)(),h=(0,o.W6)(s.Cz),k=(0,o.W6)(s.iY),f=!(0,pe.k)(),C=(0,lt.g)(),[P,S]=(0,ge.Z)(c),{canSort:w,canFilter:N}=(0,V.zZ)().capabilities,{sortState:O}=(0,n.useContext)(Ct),{sortState:x}=(0,n.useContext)(gt),F=(0,V.zZ)(),z=(0,H.Z)((null===(a=m[0])||void 0===a?void 0:a.url)||null),{usePlayContextItem:R}=(0,K.n)({uri:c,metadata:{[et.sb.SORTING_CRITERIA]:F.getPlayerSort(O),[et.sb.FILTERING_PREDICATE]:F.getPlayerFilter(x)}},{featureIdentifier:"show"}),{isActive:U,isPlaying:T,togglePlay:j}=R({uri:(null==d?void 0:d.uri)||""}),B=(0,n.useCallback)((()=>{b({targetUri:c,intent:P?"unsave":"save",type:"click"}),S(!P)}),[b,c,P,S]),G=(0,n.useCallback)((()=>{b({intent:"expand-description",type:"click"})}),[b]),Z=zt(e),_=(0,Ft.s)(d,Z),W=(0,n.useCallback)((()=>{null!=d&&d.uri&&(C?_():(b({targetUri:d.uri,intent:T?"play":"pause",type:"click"}),j()))}),[_,C,T,b,j,null==d?void 0:d.uri]),{isXSOnly:X,isSMOnly:$}=(0,Je.e)(),Q=X||$,J=g.length>0,ee=E||h&&y,ne=ee||J;return r().createElement("section",{className:Ht.Z.ShowPage},r().createElement(st.$,null,L.ag.get("podcasts.show.seo.title",{name:u})),r().createElement(ke.gF,{backgroundColor:z},r().createElement(fe.W,null,r().createElement(Ce.i,{text:u,dragUri:c,dragLabel:u})),r().createElement("div",{className:Ht.Z.imageContainer},r().createElement($e._,{menu:r().createElement(ot.M,{uri:c})},r().createElement(ke.Oe,{loading:"eager",name:u,images:m,placeholderType:"show",shape:ke.Kc.ROUNDED_CORNERS}))),r().createElement(ke.sP,null,r().createElement(ke.dy,{small:!0,uppercase:!0},"SHOW"===p?L.ag.get("type.show"):L.ag.get("type.podcast")),r().createElement($e._,{menu:r().createElement(ot.M,{uri:c})},r().createElement(ke.xd,{dragUri:c,dragLabel:u},r().createElement("span",{"data-testid":"show-title"},u))),r().createElement(ke.dy,{large:!Q,medium:Q,bold:!0},v))),r().createElement(ue.o,{backgroundColor:z},r().createElement(ue.F,null,r().createElement(Ee.r,{key:"follow-button"},r().createElement(de.e,{isFollowing:P,onClick:B,disabled:f})),r().createElement(I.y,{menu:r().createElement(ot.M,{uri:c})},r().createElement(A.z,{label:L.ag.get("more.label.context",u)})))),r().createElement("div",{className:Ht.Z.ShowContent},r().createElement("div",{className:Ht.Z.metadata},ne&&r().createElement(r().Fragment,null,r().createElement(M.Dy,{as:"h3",variant:i.LF.canon,color:"var(--spice-text)",className:Ht.Z.sectionTitle},L.ag.get("artist.about")),ee&&r().createElement(te.o,{maxLines:4,content:(E||"").trim(),onExpanded:G,htmlContent:h&&y?y:void 0,LinkComponent:ae.Z}),J&&r().createElement(se,{topics:g||[]})),r().createElement(nt,{showId:t,uri:c}),d&&r().createElement($e._,{menu:r().createElement(it.k,{uri:d.uri,showUri:c,sharingInfo:d.sharingInfo})},r().createElement(q,{label:L.ag.get("track-trailer"),className:Ht.Z.trailer,images:d.coverArt||[],title:d.name,duration:d.duration.milliseconds,moreButton:r().createElement(I.y,{menu:r().createElement(it.k,{uri:d.uri,sharingInfo:d.sharingInfo,showUri:c})},r().createElement(A.z,null)),onClick:W,isPlaying:T,isActive:U,size:Y.LARGE,contentRating:null===(l=d.contentRating)||void 0===l?void 0:l.label,enableEncoreWebMigration:k}))),r().createElement("div",{className:Ht.Z.episodes,"data-testid":"show-all-episode-list"},r().createElement("div",{className:Ht.Z.episodesHeader},N&&r().createElement("div",{className:Ht.Z.episodesFilter},r().createElement(Yt,null)),!N&&r().createElement(M.Dy,{as:"h3",variant:i.LF.canon,color:"var(--spice-text)",className:Ht.Z.sectionTitle},L.ag.get("mwp.podcast.all.episodes")),w&&r().createElement("div",{className:Ht.Z.episodesSort},r().createElement(qt,null))),r().createElement(Gt,{showMetadata:e,usePlayContextItem:R})),r().createElement(Qe.k,{copyrights:[]})))},Vt=r().memo((()=>{const{showId:e}=(0,l.UO)(),t=`spotify:show:${e}`,a=(0,o.W6)(s.uB),i=(0,tt.l)(t,a);return i?(0,$.l6)(i)?r().createElement(n.Suspense,{fallback:null},r().createElement(Ve,{metadata:i})):r().createElement(n.Suspense,{fallback:null},r().createElement(Et,{uri:i.uri},r().createElement(Pt,{uri:i.uri,defaultSortParam:ft(i.consumptionOrder)},r().createElement(Kt,{showId:e,metadata:i})))):r().createElement(rt.h,{hasError:!1,errorMessage:L.ag.get("error.not_found.title.podcast")})}))},95289:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(67294),r=a.n(n),l=a(94184),i=a.n(l),o=a(96685),s=a(26115),c=a(74594),m=a(20246),u=a(76343),d=a(62012),g=a(6577),E=a(30005),y=a(36652),p=a(21691),v=a(28248);const b=({heading:e,selected:t,onSelect:a,options:n,sortOrder:l})=>{let i;return l&&(l===v.kn.ASC||l===v.kn.SECONDARY_ASC?i=r().createElement(d.e,{iconSize:16}):l!==v.kn.DESC&&l!==v.kn.SECONDARY_DESC||(i=r().createElement(g.c,{iconSize:16}))),r().createElement(E.v,null,e?r().createElement(y.F,null,e):null,n.map((({key:e,value:n})=>r().createElement(p.s,{role:"menuitemradio","aria-checked":e===t.key&&!i,key:e,onClick:()=>a(e),icon:e===t.key&&i},r().createElement(u.Dy,{variant:o.LF.mesto},n)))))},h="w6j_vX6SF5IxSXrrkYw5",k="CbHJjxYxldG7uUPMYMaP";const f=({heading:e,options:t,selected:a,onSelect:n,isSelectionChanged:l,sortOrder:d,variant:g=o.LF.mesto,color:E})=>{const[y]=t;a||(a=y);const p=l?l(a):a!==y;return r().createElement(m.y,{menu:r().createElement(b,{selected:a,options:t,onSelect:n,sortOrder:d,heading:e})},((e,t,n)=>r().createElement("button",{className:i()(h,{[k]:p}),onClick:t,ref:n,type:"button"},r().createElement(u.Dy,{variant:g,color:E},a.value),e?r().createElement(s.q,{iconSize:16}):r().createElement(c.m,{iconSize:16}))))}},94233:(e,t,a)=>{a.d(t,{k:()=>s});var n=a(96685),r=a(67294),l=a.n(r),i=a(76343);const o="rTMkDBDp47Eo12ZEQv4U",s=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let r;return r="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,l().createElement(i.Dy,{as:"p",variant:n.LF.finale,key:t,dir:"auto"},`${r} ${a}`)}));return t&&a.unshift(l().createElement(i.Dy,{as:"p",variant:n.LF.finale,key:a.length,dir:"auto"},t)),l().createElement("div",{className:o},a)}},14535:(e,t,a)=>{a.d(t,{e:()=>u});var n=a(67294),r=a.n(n),l=a(20657),i=a(94184),o=a.n(i);const s="aAr9nYtPsG7P2LRzciXc",c="fBTYgGyvIbHizHIj7AAX",m="oUzIIkcyBdRs7hrwbwIo",u=r().memo((({isFollowing:e,onClick:t,disabled:a=!1,buttonText:n})=>{const i=e?l.ag.get("following"):l.ag.get("follow");return r().createElement("button",{type:"button",className:o()(s,{[c]:e,[m]:a}),onClick:t},n||i)}))}}]);
//# sourceMappingURL=xpui-routes-show.js.map