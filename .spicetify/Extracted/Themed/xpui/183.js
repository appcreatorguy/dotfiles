"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[183],{72917:(e,t,a)=>{a.d(t,{c:()=>s});var n=a(67294),l=a.n(n),r=a(20657),i=a(76439),o=a(56802),c=a(61290);const s=({id:e,children:t,targetURI:a})=>{const s=(0,n.useCallback)((()=>{const e=new URL("go",window.location.origin);e.searchParams.set("uri",a.toURI()),e.searchParams.set("rtd","1"),window.open(e.href)}),[a]),m={getTitle:()=>r.ag.get("action-trigger.available-in-app-only"),getDescription:()=>r.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>r.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>r.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,o.o)()};return l().createElement(i.P,{className:c.Z.container,id:e,onPrimaryButtonClick:s,options:m},t)}},90110:(e,t,a)=>{a.d(t,{q:()=>C,o:()=>x});var n=a(67294),l=a.n(n),r=a(94184),i=a.n(r),o=a(69518),c=a.n(o),s=a(50020),m=a(96895),u=a(20657),d=a(83692),g=a(24656),p=a(69010),h=a(80946),b=a(6116),v=a(38209),E=a(40080);const y="l_MW0G9qeeCKlVJwBykT",f="BKsbV2Xl786X9a09XROH",w="HbKLiGoYM4dpuK8L4TMX",k="_APVWqivXc4YqgsnpFkP",N="VmwiDoU6RpqyzK_n7XRO",L="rEx3EYgBzS8SoY7dmC6x",O="z3zia5snl987x676qe5w";let C;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(C||(C={}));const _=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},x=({uri:e,isFollowing:t,onFollow:a,size:r=C.sm,className:o,onClick:x=(()=>{})})=>{const D={"--size":`${r}px`},{useDownloading:S,useDownloadCapability:P}=(0,n.useContext)(g.I),[T,F]=(0,n.useState)(!1),[j,A]=P(c().isEpisode(e)),[I,B]=(0,n.useState)(!1),{currentAvailability:M,progress:R,beginDownload:z,clearDownload:q}=S(e);((e,t)=>{const a=(0,v.r)(),l=(0,n.useRef)(!1);(0,n.useEffect)((()=>{e===p.V8.DOWNLOADING&&!1===l.current&&(l.current=!0,a.say(u.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const r=(0,E.D)(e);(0,n.useEffect)((()=>{r===p.V8.DOWNLOADING&&e===p.V8.YES&&(l.current=!1,a.say(u.ag.get("download.complete")))}),[a,r,e])})(M,R);const X=(0,n.useCallback)((e=>{A===p.v$.DOWNLOADING_NOT_ALLOWED?B(!0):!1===t?(a(),F(!0)):z(),x(e),_(e)}),[z,A,t,x,a]),W=(0,n.useCallback)((e=>{q(),_(e),x(e)}),[q,x]);return(0,n.useEffect)((()=>{!0===T&&!0===t&&(z(),F(!1))}),[t,T,z]),j===p.PQ.NO_DOWNLOAD_CAPABILITY?null:A===p.v$.DOWNLOADING_NOT_ALLOWED?l().createElement("div",{className:f},l().createElement(d.w,{label:u.ag.get("download.download")},l().createElement("button",{className:i()(w,o),role:"switch",onClick:X,"aria-label":u.ag.get("download.download"),"aria-checked":!1},l().createElement(s.a,{iconSize:r}))),I&&l().createElement("div",{className:O},l().createElement(h.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{B(!1)}},u.ag.get("download.upsell")))):M===p.V8.YES?l().createElement(d.w,{label:u.ag.get("download.remove")},l().createElement("button",{className:i()(w,o,k),role:"switch",onClick:W,"aria-label":u.ag.get("download.remove"),"aria-checked":!0},l().createElement(m.C,{iconSize:r}))):M===p.V8.NO?l().createElement(d.w,{label:u.ag.get("download.download")},l().createElement("button",{className:i()(w,o),role:"switch",onClick:X,"aria-label":u.ag.get("download.download"),"aria-checked":!1},l().createElement(s.a,{iconSize:r}))):l().createElement("div",{className:i()(N,o),role:"switch","aria-checked":!0},l().createElement(d.w,{label:u.ag.get("download.cancel")},l().createElement("button",{style:D,className:i()(w,y,o),onClick:W,"aria-label":u.ag.get("download.cancel")})),l().createElement("span",{style:D,className:i()(L,y)},l().createElement(b.e,{"aria-valuetext":u.ag.get("progress.downloading-tracks"),percentage:R.percentage,size:r})))}},37483:(e,t,a)=>{a.d(t,{p:()=>u,q:()=>s.q});var n=a(67294),l=a.n(n),r=a(65858),i=a(4383),o=a(8475),c=a(56802),s=a(90110);const m=l().memo((({uri:e,size:t=s.q.md,className:a})=>{const[m,u]=(0,i.Z)(e),d=(0,r.I0)(),g=(0,c.o)(),p=(0,n.useCallback)((()=>{g({targetUri:e,intent:m?"remove-from-library":"add-to-library",type:"click"}),u(!m),d(m?(0,o.SS)():(0,o.kK)())}),[g,e,m,u,d]);return l().createElement(s.o,{className:a,isFollowing:m,onFollow:p,uri:e,size:t})})),u=l().memo((e=>l().createElement(m,e)))},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},68107:(e,t,a)=>{a.d(t,{s:()=>b});var n=a(67294),l=a(59713),r=a.n(l);const i=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function o(e,t){return e.filter((e=>e.label?e.label===t:e.width?i(e.width)===t:!!e.height&&i(e.height)===t))[0]}var c=a(67789);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e){var t,a,n,l,r,i,c,s;const m=o(e,"standard"),u=o(e,"large"),d=o(e,"small"),g=o(e,"xlarge");return{image_url:null==m?void 0:m.url,image_height:null==m||null===(t=m.height)||void 0===t?void 0:t.toString(),image_width:null==m||null===(a=m.width)||void 0===a?void 0:a.toString(),image_url_large:null==u?void 0:u.url,image_height_large:null==u||null===(n=u.height)||void 0===n?void 0:n.toString(),image_width_large:null==u||null===(l=u.width)||void 0===l?void 0:l.toString(),image_url_small:null==d?void 0:d.url,image_height_small:null==d||null===(r=d.height)||void 0===r?void 0:r.toString(),image_width_small:null==d||null===(i=d.width)||void 0===i?void 0:i.toString(),image_url_xlarge:null==g?void 0:g.url,image_height_xlarge:null==g||null===(c=g.height)||void 0===c?void 0:c.toString(),image_width_xlarge:null==g||null===(s=g.width)||void 0===s?void 0:s.toString()}}var d=a(23716),g=a(69691),p=a(42781),h=a(56802);function b(e,t){const a=(0,h.o)(),l=(0,d.g)(),{isPlaying:r,isActive:i}=(0,g.$o)((null==e?void 0:e.uri)||""),{isActive:o}=(0,g.cR)((null==t?void 0:t.uri)||"");return(0,n.useCallback)((n=>{if(!t||!e)return;const s=function(e,t){var a,n,l,r;const i=((null===(a=e.coverArt)||void 0===a?void 0:a.sources)||[]).sort(((e,t)=>(t.width||0)-(e.width||0))),o=(0,c.Xb)(e,t),s=(0,c.Ie)(t)||o;return m(m({uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name},u(i)),{},{media_type:"audio",externalResolvedUrl:null===(n=e.audio)||void 0===n||null===(l=n.items)||void 0===l||null===(r=l.find((e=>e.externallyHosted)))||void 0===r?void 0:r.url,isTrailer:o,anonymousPlaybackAllowed:s})}(e,t);o&&!r&&i&&!n?l.resume():o&&r&&!n?(a({type:"click",intent:"pause",targetUri:e.uri}),l.pause()):(a({type:"click",intent:"play",targetUri:e.uri}),l.play({uri:t.uri,pages:[{items:[{type:p.p.EPISODE,uri:e.uri,uid:null,metadata:s,provider:null}]}]},{referrerIdentifier:l.getReferrer(),featureIdentifier:"episode"},n))}),[i,r,o,l,a,t,e])}},31610:(e,t,a)=>{a.d(t,{o:()=>s,q:()=>i.q});var n=a(67294),l=a.n(n),r=a(4383),i=a(90110),o=a(56802);const c=l().memo((({uri:e,bookUri:t,size:a=i.q.md,className:c,onClick:s=(()=>{})})=>{const[m,u]=(0,r.Z)(t),d=(0,o.o)(),g=(0,n.useCallback)((()=>{d({targetUri:t,intent:"add-to-library",type:"click"}),u(!0)}),[d,t,u]);return l().createElement(i.o,{className:c,isFollowing:m,onFollow:g,uri:e,size:a,onClick:s})})),s=l().memo((e=>l().createElement(c,e)))},38894:(e,t,a)=>{a.d(t,{g:()=>r});var n=a(65858),l=a(29255);const r=()=>(0,n.v9)(l.Gg).isAnonymous},20238:(e,t,a)=>{a.d(t,{o:()=>q});var n=a(59713),l=a.n(n),r=a(67294),i=a.n(r),o=a(20657);const c="CTqnyEX1E8bCstZSENX_",s="wuGkmgD03o8t6Ekc6PUk",m="l1ZEvEBLXHaRxKZTgG2Q",u="KXlcyuHuR1UPYVsnF3zF";var d=a(69559),g=a(96685),p=a(76343),h=a(52865),b=a(58548);const v=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;function E(e){return e.split(v).map((e=>{if(e.match(v)){return`(<time>${e.replace("(","").replace(")","")}</time>)`}return e})).join("")}const y=i().memo((({text:e,onTimeStampClick:t,children:a,className:n,LinkComponent:l,enableTimestamps:o=!1})=>{const c=(0,r.useMemo)((()=>{const a=(0,h.ZU)(e),n=o?E(a):a;return i().createElement(b.NB,{source:n,LinkComponent:l,onTimeStampClick:t})}),[e,o,l,t]);return i().createElement(p.Dy,{as:"p",variant:g.LF.ballad,className:n},c,a)})),f="AFGg70Z_GfjSDTYBWyEq",w=i().memo((({text:e,onTimeStampClick:t,onToggle:a,className:n,LinkComponent:l,enableTimestamps:r})=>i().createElement(y,{className:n,text:e,onTimeStampClick:t,LinkComponent:l,enableTimestamps:r},i().createElement("button",{"aria-expanded":!1,className:f,onClick:a},i().createElement(p.Dy,{variant:g.LF.balladBold},"â€¦ ",o.ag.get("mwp.see.more")))))),k=(e,t,a)=>{const n=o.ag.get("mwp.see.more").length,l=e.length+n+6;return a<=1&&l<t},N=i().memo((({paragraphs:e,clickHandler:t,maxCharactersPerLine:a,maxLines:n,toggleExpandedState:l,LinkComponent:r,className:c,enableTimestamps:s})=>{let m=!1,u=0;const d=e.map(((d,g)=>{const p=Math.round(d.length/a);if(u+=p>0?p:1,m)return null;const h=n-(u-p);if(g+1===e.length&&(k(d,a,h)||p<=h))return i().createElement(y,{className:c,text:d,onTimeStampClick:t,LinkComponent:r,enableTimestamps:s,key:g});if(u>=n){m=!0;const e=((e,t,a)=>{const n=o.ag.get("mwp.see.more").length;if(k(e,t,a))return e;const l=t*a-n-6;return e.slice(0,l)})(d,a,h);return i().createElement(w,{key:g,text:e,onTimeStampClick:t,onToggle:l,className:c,LinkComponent:r,enableTimestamps:s})}return i().createElement(y,{className:c,text:d,onTimeStampClick:t,LinkComponent:r,enableTimestamps:s,key:g})}));return i().createElement(i().Fragment,null,d)}));var L=a(65598),O=a.n(L),C=a(73012),_=a(19594),x=a(67892);const D="xgmjVLxjqfcXK5BV_XyN",S="QD13ZfPiO5otS0PU89wG",P="ZbLneLRe2x_OBOYZMX3M",T="rjdQaIDkSgcGmxkdI2vU",F="umouqjSkMUbvF4I_Xz6r",j=i().memo((({html:e,onTimeStampClick:t,enableTimestamps:a=!1})=>{const n=(0,r.useMemo)((()=>{const n=a?E(e):e;return O()(n,{transform:A(t),dangerouslySetChildren:[]})}),[a,e,t]);return i().createElement("div",{className:D},n)}));function A(e){let t=0;return{p:e=>i().createElement(p.Dy.p,{variant:g.LF.ballad,color:C.nh1,className:F},e.children),a:e=>e.href?i().createElement(x.r,{to:e.href},e.children):i().createElement(i().Fragment,null,e.children),ul:e=>i().createElement("ul",{className:P},e.children),ol:e=>i().createElement("ol",{className:P},e.children),li:e=>i().createElement(p.Dy.li,{variant:g.LF.ballad,color:C.nh1,className:T},e.children),br:()=>i().createElement("br",null),h1:e=>i().createElement(p.Dy.h1,{variant:g.LF.balladBold,color:C.nh1,className:S},e.children),h2:e=>i().createElement(p.Dy.h2,{variant:g.LF.balladBold,color:C.nh1,className:S},e.children),h3:e=>i().createElement(p.Dy.h3,{variant:g.LF.balladBold,color:C.nh1,className:S},e.children),h4:e=>i().createElement(p.Dy.h4,{variant:g.LF.balladBold,color:C.nh1,className:S},e.children),h5:e=>i().createElement(p.Dy.h5,{variant:g.LF.balladBold,color:C.nh1,className:S},e.children),h6:e=>i().createElement(p.Dy.h6,{variant:g.LF.balladBold,color:C.nh1,className:S},e.children),time:t=>i().createElement(_.E,{onClick:e},t.children),_:(e,a,n)=>{const l=void 0===a?e:n;return i().createElement(i().Fragment,{key:"fragment"+t++},l)}}}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const M={isOpen:!1,contentWidth:0},R=(e,t)=>B(B({},e),t),z=(e="")=>e.split(/[ \u00a0]{2}/).filter(Boolean),q=i().memo((({content:e,htmlContent:t,maxLines:a=2,className:n,onTimeStampClick:l=(()=>{}),LinkComponent:h,onExpanded:b,enableTimestamps:v=!1})=>{const[E,f]=(0,r.useReducer)(R,M),{isOpen:w,contentWidth:k}=E,L=(0,r.useCallback)((()=>{f({isOpen:!w}),b&&b(!w)}),[w,b]);(0,r.useEffect)((()=>{f({isOpen:!1})}),[e]);const O=k?k/7.8:Number.MAX_VALUE,C=(0,r.useRef)(null),_=(0,r.useCallback)((e=>{e&&(C.current=e,f({contentWidth:e.clientWidth}))}),[]),x=(0,r.useMemo)((()=>t?i().createElement(j,{html:t,onTimeStampClick:l,enableTimestamps:v}):((e,t,a,n)=>z(e).map(((e,l)=>i().createElement(y,{className:s,text:e,onTimeStampClick:t,enableTimestamps:a,LinkComponent:n,key:l}))))(e,l,v,h)),[h,e,v,t,l]),D=(0,r.useMemo)((()=>t?((e="")=>e.replace("<p>","").split(/(?:<\/p>)/).filter(Boolean))(t):z(e)),[e,t]);return(0,d.a)((()=>{C.current&&f({contentWidth:C.current.clientWidth})})),i().createElement("div",{className:n},i().createElement("div",{ref:_,className:c},w&&i().createElement(i().Fragment,null,x,i().createElement("button",{"aria-expanded":!0,className:u,onClick:L},i().createElement(p.Dy,{className:m,variant:g.LF.balladBold},o.ag.get("show_less")))),!w&&i().createElement(N,{className:s,paragraphs:D,LinkComponent:h,clickHandler:l,enableTimestamps:v,maxCharactersPerLine:O,maxLines:a,toggleExpandedState:L})))}))},40080:(e,t,a)=>{a.d(t,{D:()=>l});var n=a(67294);function l(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}},92408:(e,t,a)=>{a.d(t,{E:()=>D,$:()=>x});var n=a(67294),l=a.n(n),r=a(43315),i=a(59713),o=a.n(i);const c="wIA_5Ypq0rltNPeZQpM4",s="Swi6YtNEFCCVz8l4y75v",m="pklLPOhfigdytL9bPoth",u="sb24Y8kdMZInJ8aI8dXT";class d extends n.PureComponent{render(){const{ariaValueText:e,max:t,current:a}=this.props,n=t&&a?100*Math.min(1,a/t):0,r={transform:`translateX(-${100-n}%)`},i=e||`${Math.round(n)}%`;return l().createElement("div",{className:c,role:"progressbar",tabIndex:0,"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":i},l().createElement("div",{className:s}),l().createElement("div",{className:m},l().createElement("div",{className:u,style:r})))}}o()(d,"defaultProps",{current:0,max:1});const g=d,p="qfYkuLpETFW3axnfMntO",h="jOd7lbjiyc_kvRJaAbeL",b="_q93agegdE655O5zPz6l",v="z7Yl7CIT1AB0y91f_moh",E="iLIlkUcfIq56KncGtX7u",y="nV50yZ6BR_TIuWP3l7b1",f="qLjIx_SzBEpDRA_q7kxQ";var w=a(96685),k=a(40378),N=a(20657),L=a(76343),O=a(94184),C=a.n(O),_=a(33985);let x;!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(x||(x={}));const D=e=>{const{resumePositionMs:t=0,releaseDate:a,isPlaying:n,fullyPlayed:i,durationMs:o,size:c=x.SMALL,position:s=t}=e;return l().createElement("div",{className:C()(p,{[h]:c===x.LARGE})},a?l().createElement(L.Dy.p,{variant:w.LF.mesto,className:b},(0,r.rL)((0,r.RX)(a))):null,(()=>{if(i&&!n)return l().createElement("div",{className:E},l().createElement(L.Dy.p,{variant:w.LF.mesto,className:v},N.ag.get("episode.played")),l().createElement(k.R,{iconSize:16,className:f}));if(s>0||n){const e=Math.ceil(Math.max(o-s,0));return l().createElement("div",{className:E},l().createElement(L.Dy.p,{variant:w.LF.mesto,className:v},l().createElement(_.ng,{durationMs:e})))}return l().createElement(L.Dy.p,{variant:w.LF.mesto,className:b},l().createElement(_.nL,{durationMs:o}))})(),!i&&s>0||n?l().createElement("div",{className:y},l().createElement(g,{current:s,max:o,isEnabled:!1})):null)}},60410:(e,t,a)=>{a.d(t,{S:()=>l,g:()=>r});var n=a(86649);function l(e){var t,a;return!(null!==(t=e.playability)&&void 0!==t&&t.playable)&&(null===(a=e.playability)||void 0===a?void 0:a.reason)===n.WY.PaymentRequired}function r(e){return!!e&&e.some(l)}}}]);
//# sourceMappingURL=183.js.map