"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[123],{70369:(e,t,n)=>{n.d(t,{$:()=>l.$});var l=n(22578)},66590:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var l=n(59713),i=n.n(l),a=n(67294),r=n.n(a),o=n(65858),c=n(44794),s=n(44503),d=n(70369),u=n(29255),m=n(20657),b=n(18864),E=n(15429),v=n(49961),g=n(22250),p=n(52201),h=n(60210),f=n(65239),y=n(16528),w=n(79858),A=n(326),O=n(60025);const _=()=>{const e=(0,y.k6)();return r().createElement("div",{className:O.Z.container},r().createElement(w.I,{iconSize:64}),r().createElement(A.l,{title:m.ag.get("blend.only-on-mobile.title"),subtitle:m.ag.get("blend.only-on-mobile.subtitle"),buttonText:m.ag.get("pwa.understood"),footnote:null,callToActionClicked:()=>e.push("/")}))};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const D={page_type:g.V3.PENDING_INVITATION,title:m.ag.get("web-player.blend.group-invite.header"),subtitle:m.ag.get("web-player.blend.duo-invite.description"),button_text:m.ag.get("web-player.blend.invite.button-title"),footnote:null,members:[],recipient:null,members_title:null,playlist_uri:null},N=()=>{var e;const t=(0,h.i)(),{ref:n,breakpoint:l}=(0,p.j)(),i=(0,c.W6)(s.c$),{user:g}=(0,o.v9)(u.Gg);if(i===s.rS.DISABLED)return r().createElement(_,null);const y=null!=g&&g.uri?(0,E.C)(null==g?void 0:g.uri):"",w={name:(null==g?void 0:g.display_name)||"",username:y,image_url:(null===(e=(0,v.X)(null==g?void 0:g.images))||void 0===e?void 0:e.url)||null,hash:""},A=i===s.rS.TWO_USER?(e=>T(T({},D),{},{members:[e],footnote:m.ag.get("web-player.blend.duo-invite.two-people-warning")}))(w):(e=>T(T({},D),{},{members:[e],footnote:m.ag.get("web-player.blend.group-invite.warning")}))(w);return r().createElement(a.Suspense,{fallback:_},r().createElement(d.$,null,m.ag.get("web-player.blend.invite.page-title")),r().createElement(b.ZU.Provider,{value:l},r().createElement(f.H,{invitation:A,callToActionClicked:t,breakpointEltRef:n})))}},326:(e,t,n)=>{n.d(t,{l:()=>v});var l=n(67294),i=n.n(l),a=n(73012),r=n(96685),o=n(99450),c=n(76343),s=n(18864),d=n(16367),u=n(60025);const m={[s.Uo.MEDIUM]:r.LF.alto,[s.Uo.LARGE]:r.LF.alto,[s.Uo.XLARGE]:r.LF.forte},b={[s.Uo.LARGE]:r.LF.ballad,[s.Uo.XLARGE]:r.LF.cello},E={[s.Uo.LARGE]:r.LF.viola,[s.Uo.XLARGE]:r.LF.viola},v=({title:e,subtitle:t,body:n,footnote:l,buttonText:v,callToActionClicked:g})=>{const p=(0,s.jh)(),h=p&&m[p]||r.LF.canon,f=p&&b[p]||r.LF.mesto,y=p&&E[p]||r.LF.finale;return i().createElement(i().Fragment,null,i().createElement(c.Dy,{as:"h1",variant:h,color:a.ixZ,className:u.Z.title},e),i().createElement(c.Dy,{as:"h2",variant:f,color:a.nh1,className:u.Z.subtitle},t),n,g&&i().createElement(o.D,{className:u.Z.button,colorSet:"invertedLight",onClick:g,"data-testid":d.xd},v),l&&i().createElement(c.Dy,{as:"p",variant:y,color:a.SxH,className:u.Z.note},l))}},65239:(e,t,n)=>{n.d(t,{H:()=>v});var l=n(67294),i=n.n(l),a=n(11577),r=n(70369),o=n(20657),c=n(38562),s=n(18864),d=n(326),u=n(16367),m=n(60025);const b={name:"",username:"",image_url:null,hash:""},E={[s.Uo.MEDIUM]:164,[s.Uo.LARGE]:164,[s.Uo.XLARGE]:270},v=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>{var l,v,g;const p=(null===(l=e.members)||void 0===l?void 0:l[0])||b,h=e.recipient||b,f=(0,s.jh)(),y=f&&E[f]||128,w=Math.round(.475*y);return i().createElement("div",{className:(0,a.cx)(m.Z.container,m.Z.TwoUsers),"data-testid":u.xS,ref:n},i().createElement(r.$,null,o.ag.get("blend.invite.page-title")),i().createElement("div",{className:m.Z.facepile},i().createElement(c.q,{label:p.name,images:[{url:null!==(v=p.image_url)&&void 0!==v?v:"",width:y,height:y}],width:y,userIconSize:w}),i().createElement(c.q,{label:h.name,images:[{url:null!==(g=h.image_url)&&void 0!==g?g:"",width:y,height:y}],width:y,userIconSize:w,piled:!0})),i().createElement(d.l,{title:e.title,subtitle:e.subtitle,footnote:e.footnote,buttonText:e.button_text,callToActionClicked:t}))}},16367:(e,t,n)=>{n.d(t,{e0:()=>l,xS:()=>i,ab:()=>a,Eh:()=>r,xd:()=>o});const l="blend-deleted-container",i="blend-two-user-container",a="blend-multi-user-container",r="blend-full-container",o="blend-cta-button"},47474:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var l=n(67294),i=n.n(l),a=n(16528),r=n(79858),o=n(44794),c=n(44503),s=n(20657),d=n(29634),u=n(326),m=n(59713),b=n.n(m),E=n(69518),v=n.n(E),g=n(70375),p=n(18864),h=n(48327),f=n(1663),y=n(22250),w=n(52201),A=n(60210),O=n(80624),_=n(22093);var I=n(92744),T=n(16367),D=n(60025);const N=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>i().createElement("div",{className:D.Z.container,"data-testid":T.Eh,ref:n},i().createElement(I.A,{iconSize:64}),i().createElement(u.l,{title:e.title,subtitle:e.subtitle,buttonText:e.button_text,footnote:null,callToActionClicked:t}));var k=n(70369),L=n(94184),x=n.n(L),R=n(73012),U=n(96685),P=n(38562),M=n(18261),j=n(76343),S=n(43480),C=n(67892);const Z="HKAYWYmxd5Ie8WSi0a4y",Y="i52u_T3b50wraodIaORk",V="xakiNVMlUf6geF67FEgy",B="IRhTesoeIiwswlly0Dvg",F="LNJzE17iskXWmfKAzY4U",G="qzBr7X7cdLUhWdk0r8lL",X=({uri:e,imageUrl:t,name:n})=>i().createElement("li",null,i().createElement(M._,{menu:i().createElement(S.I,{uri:e})},i().createElement(C.r,{to:e},i().createElement("div",{className:B},i().createElement(P.q,{images:[{url:t,width:null,height:null}],label:n,width:32,userIconSize:24,className:F}),i().createElement(j.Dy,{as:"span",variant:U.LF.violaBold,className:"standalone-ellipsis-one-line",color:R.ixZ},n))))),W=({members:e,headingText:t,className:n})=>i().createElement("div",{className:x()(Z,n)},i().createElement("div",null,i().createElement(j.Dy,{as:"h4",variant:U.LF.minuetBold,color:R.SxH,className:Y},t)),i().createElement("ul",{className:V},e&&e.map((e=>i().createElement(X,{imageUrl:e.image_url||"",name:e.name,uri:v().profileURI(e.username).toURI(),key:e.username})))),i().createElement("div",{className:G})),z=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>{const l=e.members||[],a=i().createElement("div",{className:D.Z.userListContainer,"data-testid":T.ab},i().createElement(W,{className:D.Z.userList,headingText:e.members_title,members:l}));return i().createElement("div",{className:D.Z.container,ref:n},i().createElement(k.$,null,s.ag.get("blend.join.title")),i().createElement(u.l,{title:e.title,subtitle:e.subtitle,footnote:e.footnote,body:a,buttonText:e.button_text,callToActionClicked:t}))};var H=n(65239);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const $=({invitationId:e})=>{var t,n;const l=(0,a.k6)(),r=(0,o.W6)(c.c$),{data:d,error:m,loading:b}=(0,h.J)(y.oN,[e]),E=(0,A.i)(),I=function(e){const t=(0,_.k)(),n=(0,a.k6)();return async()=>{try{const t=await(0,y.nW)(O.b.getInstance(),e),l=v().from(null==t?void 0:t.body.playlist_uri).toURLPath(!0);if(!l)throw new Error("unable to join");n.replace(l)}catch{t(s.ag.get("error.request-playlist-failure"))}}}(e),{ref:k,breakpoint:L}=(0,w.j)(),x=null===d||!d.body;if(x||b||m)return i().createElement(f.h,{timeoutInMs:1e3,hasError:!!m||!b&&x,errorMessage:s.ag.get("error.generic")});const R=null===(t=v().from(null==d?void 0:d.body.playlist_uri))||void 0===t?void 0:t.toURLPath(!0),U=(null==d||null===(n=d.body.members)||void 0===n?void 0:n.length)||0,P=r===c.rS.TWO_USER;switch(null==d?void 0:d.body.page_type){case y.V3.DELETED:return i().createElement(p.ZU.Provider,{value:L},i().createElement("div",{className:D.Z.container,ref:k,"data-testid":T.e0},i().createElement(g.t,{iconSize:64}),i().createElement(u.l,{title:d.body.title,subtitle:d.body.subtitle,buttonText:d.body.button_text,footnote:d.body.footnote,callToActionClicked:E})));case y.V3.ALREADY_JOINED:return R&&l.replace(R),i().createElement(f.h,{hasError:!1,errorMessage:s.ag.get("error.request-playlist-failure")});case y.V3.READY_TO_JOIN_EMPTY_BLEND:return i().createElement(p.ZU.Provider,{value:L},i().createElement(H.H,{invitation:d.body,breakpointEltRef:k,callToActionClicked:I}));case y.V3.READY_TO_JOIN_ALREADY_CREATED_BLEND:return P&&U>=2?i().createElement(p.ZU.Provider,{value:L},i().createElement(N,{invitation:q(q({},d.body),{},{title:s.ag.get("blend.link-invialid.header"),subtitle:s.ag.get("blend.link-invalid.subtitle"),button_text:s.ag.get("blend.invite.button-title")}),callToActionClicked:E,breakpointEltRef:k})):i().createElement(p.ZU.Provider,{value:L},i().createElement(z,{invitation:d.body,callToActionClicked:I,breakpointEltRef:k}));case y.V3.MAX_MEMBERS:return i().createElement(p.ZU.Provider,{value:L},i().createElement(N,{invitation:d.body,callToActionClicked:E,breakpointEltRef:k}));case y.V3.PENDING_INVITATION:return i().createElement(p.ZU.Provider,{value:L},i().createElement(H.H,{invitation:d.body,callToActionClicked:E,breakpointEltRef:k}));default:return i().createElement(f.h,{timeoutInMs:1e3,hasError:!0,errorMessage:s.ag.get("error.generic")})}},K=()=>{const e=(0,a.k6)();return i().createElement("div",{className:D.Z.container},i().createElement(r.I,{iconSize:64}),i().createElement(u.l,{title:s.ag.get("blend.only-on-mobile.title"),subtitle:s.ag.get("blend.only-on-mobile.subtitle"),buttonText:s.ag.get("pwa.understood"),footnote:null,callToActionClicked:()=>e.push("/")}))},Q=({invitationId:e})=>(0,o.W6)(c.c$)===c.rS.DISABLED?i().createElement(K,null):i().createElement(d.n,{fallback:K},i().createElement($,{invitationId:e})),ee=i().memo((()=>i().createElement(Q,(0,a.UO)())))},22250:(e,t,n)=>{n.d(t,{V3:()=>i,oN:()=>a,nW:()=>r,Ag:()=>o});var l=n(16516);let i;!function(e){e.PENDING_INVITATION="PENDING_INVITATION",e.READY_TO_JOIN_EMPTY_BLEND="READY_TO_JOIN_EMPTY_BLEND",e.READY_TO_JOIN_ALREADY_CREATED_BLEND="READY_TO_JOIN_ALREADY_CREATED_BLEND",e.MAX_MEMBERS="MAX_MEMBERS",e.ALREADY_JOINED="ALREADY_JOINED",e.DELETED="DELETED"}(i||(i={}));const a=(e,t)=>e.build().withHost(l.cM).withPath(`/v3/view-invitation/${encodeURIComponent(t)}`).withEndpointIdentifier("v3/view-invitation/{invitationId}").withLocale(e.locale).send(),r=(e,t)=>e.build().withHost(l.cM).withMethod("PUT").withPath(`/v2/join/${encodeURIComponent(t)}`).withEndpointIdentifier("join/{invitationId}").send(),o=e=>e.build().withHost(l.cM).withMethod("POST").withPath("/v1/generate").withEndpointIdentifier("v1/generate").send()},52201:(e,t,n)=>{n.d(t,{j:()=>a});var l=n(82144),i=n(53052);const a=()=>(0,i.D)({[l.U.SMALL]:536,[l.U.MEDIUM]:792,[l.U.LARGE]:1048,[l.U.XLARGE]:1688})},60210:(e,t,n)=>{n.d(t,{i:()=>d});var l=n(65858),i=n(20657),a=n(80624),r=n(25853),o=n(29255),c=n(22250),s=n(22093);function d(){const{user:e}=(0,l.v9)(o.Gg),t=(0,s.k)();return async()=>{try{var n,l,o;const s=await(0,c.Ag)(a.b.getInstance());if(!(null===(n=s.body)||void 0===n?void 0:n.invite))throw new Error("unable to generate invite link");const d=null!=e&&e.display_name?i.ag.get("blend.invite.body-with-name",e.display_name,null===(l=s.body)||void 0===l?void 0:l.invite):i.ag.get("blend.invite.body-without-name",null===(o=s.body)||void 0===o?void 0:o.invite);(0,r.v)(d),t(i.ag.get("feedback.link-copied"))}catch{t(i.ag.get("error.generic"))}}}},22093:(e,t,n)=>{n.d(t,{k:()=>r});var l=n(65858),i=n(8475),a=n(63826);const r=()=>{const e=(0,l.I0)();return t=>(0,a.T)({hide:()=>e((0,i.Xe)()),show:()=>e((0,i.TB)(t))})}},60025:(e,t,n)=>{n.d(t,{Z:()=>l});const l={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"yMoj4jXSudxZ6BkKxV2E",TwoUsers:"IDgUCqAbkRah6OFywv1q",subtitle:"qmKxO5qV4XmVYfpFpaDA",facepile:"nWMdWl40O8K7HQT8Tagc",title:"csRAeNipsu1camQTMiIU",button:"nxFBywAeAI8Zk2fav3Yj",userList:"lxPLQIPb1VSV3VL18Ke3",userListContainer:"BzMKhmywgyIt6IUjcTGW",note:"DSdKNusLgsMX_iicYCU2"}}}]);
//# sourceMappingURL=xpui-routes-blend.js.map