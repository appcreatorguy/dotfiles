"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[309],{72465:(e,t,r)=>{r.r(t),r.d(t,{Collection:()=>At,default:()=>Pt});var a=r(67294),n=r.n(a),l=r(65858),o=r(44794),c=r(73305),s=r(44503),i=r(61377),u=r(20657),m=r(13983);const d=(0,r(20573).P1)((e=>e.features),(e=>(null==e?void 0:e.enableShows)||!1));var p=r(70369),g=r(96685),f=r(72803),E=r(42922),y=r(76343),b=r(45342),h=r(1496),v=r(3634),k=r(94522),O=r(19565),C=r(84200),S=r(1663),w=r(22423),A=r(5292),P=r(14590),x=r(88852),I=r(59713),D=r.n(I),R=r(6489),L=r(76391);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){D()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){const a=j({},r);return a.entities=t?e.items||[]:a.entities.concat(e.items||[]),a.total=e.totalLength,a.next=e.next,a}function F(e,t){const r=j({},t),a=t.entities.filter((t=>t.uri!==e));return r.total=(t.total||0)-(t.entities.length-a.length),r.entities=a,r}const B={offset:0,limit:1},U=()=>{const e=(0,a.useContext)(b.H);return(e=>{const[t,r]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{if(!e)return;const t=await e();r((null==t?void 0:t.totalLength)||0)}),[e]);return(0,a.useEffect)((()=>{null===t&&n()}),[t,n]),{total:t}})((0,a.useCallback)((()=>e?null==e?void 0:e.getShows(B):Promise.resolve({totalLength:0})),[e]))};var Y=r(69518),_=r.n(Y);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){D()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const W=e=>Z(Z({},e),{},{id:_().from(e.uri).getBase62Id(),external_urls:{spotify:""},href:"",images:e.images.map((e=>e.label?{url:e.url,label:e.label}:{url:e.url,height:e.height,width:e.width}))}),H=e=>e.map(W),G=A.oT.ADDED_AT,q=A.oT.ADDED_AT,z=A.oT.ADDED_AT,K=A.oT.MOST_RELEVANT,$=A.oT.ADDED_AT;var Q=r(55084);const V=n().memo((({nrAlbums:e})=>{const t=(0,a.useContext)(b.H),{filter:r}=(0,a.useContext)(w.fo),{sortState:l}=(0,a.useContext)(P.Q),o=(0,a.useRef)(null),[s,i]=(0,a.useState)(e),{spec:m,UBIFragment:d}=(0,h.fU)(f.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:albums",identifier:c.W.YOURLIBRARY_ALBUMS}}),p=(0,a.useMemo)((()=>m.headerFactory()),[m]),O=(0,a.useCallback)((async(e,a)=>{const n=await t.getAlbums({offset:e,limit:a,filter:r,sort:(0,A.Aq)(l)});return n.totalLength!==s&&i(n.totalLength),n.items}),[t,r,l,s]),C=(0,a.useCallback)(((e,t)=>n().createElement(E.ZP,{key:e.uri,value:"card",index:t},n().createElement(v.r,{index:t,entity:e}))),[]);return(0,a.useEffect)((()=>{o.current&&o.current.update()}),[l,r,e]),n().createElement(d,{spec:m},n().createElement(d,{spec:p},n().createElement("div",{className:Q.Z.header},n().createElement(y.Dy,{as:"h1",variant:g.LF.canon},u.ag.get("albums")),n().createElement(a.Suspense,{fallback:null},n().createElement(x.E,{filterPlaceholder:u.ag.get("collection.filter.albums"),sortOptions:A.Ru})))),n().createElement(k.g,{nrCards:s,renderCard:C,fetchData:O,cardGridApiRef:o}))})),X=n().memo((()=>{const{total:e}=(()=>{const e=(0,a.useContext)(b.H),[t,r]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{if(!e)return;const t=await(null==e?void 0:e.getAlbums(B));r((null==t?void 0:t.totalLength)||0)}),[e]);return(0,a.useEffect)((()=>{null===t&&n()}),[t,n]),(0,L.b)(R.EW.UPDATE,n),{total:t}})();return null===e?n().createElement(S.h,{hasError:!1,errorMessage:u.ag.get("error.request-collection-albums-failure")}):e?n().createElement(V,{nrAlbums:e}):n().createElement(O.u,{linkTo:"/search",linkTitle:u.ag.get("collection.empty-page.albums-cta"),message:u.ag.get("collection.empty-page.albums-subtitle"),title:u.ag.get("collection.empty-page.albums-title")},n().createElement(C.Z,null))})),J=n().memo((()=>n().createElement(P.$,{uri:"collection/albums",defaultSortOption:G},n().createElement(w.hz,{uri:"collection/albums"},n().createElement(X,null)))));var ee=r(64230),te=r(33241),re=r(89477),ae=r(35168),ne=r(43782);const le=n().memo((({nrArtists:e})=>{const t=(0,a.useContext)(b.H),{filter:r}=(0,a.useContext)(w.fo),{sortState:l}=(0,a.useContext)(P.Q),o=(0,a.useRef)(null),[s,i]=(0,a.useState)(e),{spec:m,UBIFragment:d}=(0,h.fU)(f.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:artists",identifier:c.W.YOURLIBRARY_ARTISTS}}),p=(0,a.useMemo)((()=>m.headerFactory()),[m]),v=(0,a.useCallback)((async(e,a)=>{const n=await t.getArtists({offset:e,limit:a,filter:r,sort:(0,A.e3)(l)});return n.totalLength!==s&&i(n.totalLength),n.items}),[t,r,l,s]),O=(0,a.useCallback)(((e,t)=>n().createElement(E.ZP,{key:e.uri,value:"card",index:t},n().createElement(re.I,{index:t,entity:e}))),[]);return(0,a.useEffect)((()=>{o.current&&o.current.update()}),[l,r,e]),n().createElement(d,{spec:m},n().createElement(d,{spec:p},n().createElement("div",{className:Q.Z.header},n().createElement(y.Dy,{as:"h1",variant:g.LF.canon},u.ag.get("artists")),n().createElement(a.Suspense,{fallback:null},n().createElement(x.E,{filterPlaceholder:u.ag.get("collection.filter.artists"),sortOptions:A.o$})))),n().createElement(k.g,{nrCards:s,renderCard:O,fetchData:v,cardGridApiRef:o}))})),oe=n().memo((({nrArtists:e})=>{const t=(0,a.useContext)(b.H),[r,l]=(0,a.useState)({entities:[],total:e}),o=(0,a.useRef)(!1),c=(0,a.useRef)(!1),s=(0,a.useCallback)((async()=>{if(!c.current&&!o.current){var e;o.current=!0;const a=await t.getArtists({offset:null!==(e=r.next)&&void 0!==e?e:void 0});a.next||(c.current=!0),o.current=!1,r.next&&a.next===r.next||l(T(a,!1,r))}}),[t,r]),i=(0,a.useCallback)((e=>{l(F(e,r))}),[r]);return n().createElement(te.C,{onReachBottom:s,triggerOnInitialLoad:!0},n().createElement("div",{className:Q.Z.header},n().createElement(y.Dy,{as:"h1",variant:g.LF.canon},u.ag.get("artists"))),n().createElement(ne.Y,{onCollectionItemRemove:i},n().createElement(ae.D,{entities:H(r.entities)})))})),ce=n().memo((()=>{const{total:e}=(()=>{const e=(0,a.useContext)(b.H),[t,r]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{if(!e)return;const t=await(null==e?void 0:e.getArtists(B));r((null==t?void 0:t.totalLength)||0)}),[e]);return(0,a.useEffect)((()=>{null===t&&n()}),[t,n]),(0,L.b)(R.EW.UPDATE,n),{total:t}})(),t=(0,a.useContext)(b.H),{canFetchArtistsWithOffset:r}=t.getCapabilities();return null===e?n().createElement(S.h,{hasError:!1,errorMessage:u.ag.get("error.request-collection-artists-failure")}):e>0?r?n().createElement(le,{nrArtists:e}):n().createElement(oe,{nrArtists:e}):n().createElement(O.u,{message:u.ag.get("collection.empty-page.artists-subtitle"),title:u.ag.get("collection.empty-page.artists-title"),linkTo:"/search",linkTitle:u.ag.get("collection.empty-page.artists-cta")},n().createElement(ee.d,{size:64,viewBox:"0 0 64 64"}))})),se=n().memo((()=>n().createElement(P.$,{uri:"collection/artists",defaultSortOption:q},n().createElement(w.hz,{uri:"collection/artists"},n().createElement(ce,null)))));var ie=r(18261),ue=r(28137),me=r(36590),de=r(8498),pe=r(47418),ge=r(11186);const fe=({entity:{images:e,name:t,uri:r,authorName:a},isHero:l,onClick:o,testId:c,index:s})=>{let i;return i=l?n().createElement(pe.Z,{index:s,onClick:o,headerText:t,featureIdentifier:"audiobook",uri:r,isPlayable:!1,renderCardImage:()=>n().createElement(de.x,{isHero:!0,hasRoundedCorners:!0,images:e}),renderSubHeaderContent:()=>n().createElement(n().Fragment,null,n().createElement(y.Dy,{as:"span",variant:g.LF.mesto},a),n().createElement(ge.k,null,"AUDIOBOOK")),testId:c}):n().createElement(me.C,{index:s,onClick:o,headerText:t,featureIdentifier:"audiobook",uri:r,isPlayable:!1,renderCardImage:()=>n().createElement(de.x,{hasRoundedCorners:!0,images:e}),renderSubHeaderContent:()=>n().createElement(y.Dy,{as:"div",variant:g.LF.mesto},a),testId:c}),n().createElement(ie._,{menu:n().createElement(ue.X,{uri:r})},i)};var Ee=r(48064);const ye=n().memo((({nrBooks:e})=>{const t=(0,a.useContext)(b.H),{filter:r}=(0,a.useContext)(w.fo),{sortState:l}=(0,a.useContext)(P.Q),[o,s]=(0,a.useState)(e),{spec:i,UBIFragment:u}=(0,h.fU)(f.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:audiobooks",identifier:c.W.YOURLIBRARY_AUDIOBOOKS}}),m=(0,a.useMemo)((()=>i.headerFactory()),[i]),d=(0,a.useRef)(null),p=(0,a.useCallback)((async(e,a)=>{const n=await t.getBooks({offset:e,limit:a,filter:r,sort:(0,A.G5)(l)});return n.totalLength!==o&&s(n.totalLength),n.items}),[t,r,l,o]),v=(0,a.useCallback)(((e,t)=>n().createElement(E.ZP,{key:e.uri,value:"card",index:t},n().createElement(fe,{entity:e,index:t}))),[]);return(0,a.useEffect)((()=>{d.current&&d.current.update()}),[l,r,e]),n().createElement(u,{spec:i},n().createElement(u,{spec:m},n().createElement("div",{className:Q.Z.header},n().createElement(y.Dy,{as:"h1",variant:g.LF.canon},"Audiobooks"),n().createElement(x.E,{filterPlaceholder:"Search in Audiobooks",sortOptions:A.ZP}))),n().createElement(k.g,{nrCards:o,renderCard:v,fetchData:p,cardGridApiRef:d}))})),be=n().memo((()=>{const{total:e}=(()=>{const e=(0,a.useContext)(b.H),[t,r]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{if(!e)return;const t=await(null==e?void 0:e.getBooks(B));r((null==t?void 0:t.totalLength)||0)}),[e]);return(0,a.useEffect)((()=>{null===t&&n()}),[t,n]),(0,L.b)(R.EW.UPDATE,n),{total:t}})();return null===e?n().createElement(S.h,{hasError:!1,errorMessage:u.ag.get("error.request-collection-albums-failure")}):e>0?n().createElement(ye,{nrBooks:e}):n().createElement(O.u,{linkTo:"/search",linkTitle:u.ag.get("collection.empty-page.books-cta"),message:u.ag.get("collection.empty-page.books-subtitle"),title:u.ag.get("collection.empty-page.books-title")},n().createElement(Ee.Z,null))})),he=n().memo((()=>n().createElement(P.$,{uri:"collection/albums",defaultSortOption:$},n().createElement(w.hz,{uri:"collection/books"},n().createElement(be,null)))));var ve=r(90464),ke=r(23248),Oe=r(72138),Ce=r(63282),Se=r(98620),we=r(29255),Ae=r(56661),Pe=r(94184),xe=r.n(Pe),Ie=r(92374);const De="ASepBXU_s_s3OBsVlwbq",Re="W5JUlxsbMsaSi4DGjoPN",Le="oT0etGSj2ty3qjhnnd4c",Ne="u9YiS9YAKsCSkybiGf4y",je="emTGVMj1hTjsvPuvTV7d",Te="vwyZuyz_XfcATIyity1S",Fe="lmxbSdxMbxbmYhXnB7C0",Be="Wvq907VgY5OISrPgjpbP";function Ue(e,t=null){return Array.from(new Array(e).keys()).map((e=>n().createElement("div",{className:Te,style:{width:t?`${t}ch`:void 0},key:e})))}const Ye=({entity:e={},index:t,onClick:r})=>{const a=(0,Ie.MY)({limit:7}),{name:l="",uri:o=""}=e;return n().createElement(pe.Z,{index:t,className:xe()(De,Re),onClick:r,headerText:l,featureIdentifier:"your_library",uri:o,ariaPlayLabel:u.ag.get("playlist.a11y.play",l),ariaPauseLabel:u.ag.get("playlist.a11y.pause",l),renderCardImage:()=>n().createElement("div",{className:Ne},n().createElement("div",{className:je},a?a.items.map((({uri:e,name:t,artists:[r]},a)=>n().createElement("span",{key:e},n().createElement("span",{className:Be},a?" • ":""),n().createElement("span",{dir:"auto"},r.name),n().createElement("span",{dir:"auto",className:Be},t)))):Ue(3))),renderSubHeaderContent:()=>n().createElement("div",{className:Fe},a?`${a.totalLength} ${l}`:Ue(1,l.length))})},_e=({entity:e={},index:t})=>{const r=(0,Ie.j$)({limit:7}),{name:a="",uri:l=""}=e;return n().createElement(pe.Z,{index:t,className:xe()(De,Le),headerText:a,featureIdentifier:"your_library",uri:l,ariaPlayLabel:u.ag.get("playlist.a11y.play",a),ariaPauseLabel:u.ag.get("playlist.a11y.pause",a),renderCardImage:()=>n().createElement("div",{className:Ne},n().createElement("div",{className:je},r?r.items.map((({uri:e,name:t,show:r},a)=>n().createElement("span",{key:e},n().createElement("span",{className:Be},a?" • ":""),n().createElement("span",{dir:"auto"},t),n().createElement("span",{dir:"auto",className:Be},r.name)))):Ue(3))),renderSubHeaderContent:()=>n().createElement("div",{className:Fe},r?u.ag.get("tracklist-header.episodes-counter",r.totalLength):Ue(1,a.length))})};var Me=r(55508),Ze=r(13947),We=r(64005),He=r(72131),Ge=r(66393),qe=r(84242),ze=r(69691),Ke=r(68942),$e=r(23802);const Qe="wfFs4LpuSSZfVAgUx67H",Ve="kN4uALHijLKGpORXRMN9",Xe=()=>{const e=(0,$e.g)("images/playlist-folder-filled.svg");return n().createElement("div",{className:Qe},n().createElement("img",{src:e,alt:u.ag.get("local-files"),className:Ve}))};function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){D()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const tt=function({entity:e,index:t}){var r;const l=(0,ve.ui)(),{name:o,uri:c,images:s}=e,i=(0,a.useRef)(null),m=(0,a.useRef)(!0),d=(0,a.useContext)(Ge.t),{isPlaying:p}=(0,ze.cR)(He.bf),{togglePlay:g}=(0,qe.n)({uri:He.bf,pages:[{items:(null===(r=i.current)||void 0===r?void 0:r.map((e=>et(et({},e),{},{provider:null}))))||[]}]},{featureIdentifier:"local_files"});(0,a.useEffect)((()=>(m.current=!0,()=>{m.current=!1})),[]);const[f]=(0,ke.z)(Ke.J,!1),E=(0,We.y)((async()=>{if(!i.current){const e=await d.getContents();i.current=e.items}var e;m&&g(void 0,{uri:He.bf,pages:[{items:(null===(e=i.current)||void 0===e?void 0:e.map((e=>et(et({},e),{},{provider:null}))))||[]}]})}),Ze.s_);return l.canFetchAllTracks&&f?n().createElement(me.Z,{index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:p,onPlay:E,headerText:o,featureIdentifier:"local_files",uri:c,renderCardImage:()=>n().createElement(de.x,{images:s,fallback:{Component:Xe}}),renderSubHeaderContent:()=>n().createElement("span",null,u.ag.get("local-files.description"))}):null},rt=function(e){return n().createElement(a.Suspense,{fallback:null},n().createElement(tt,e))};var at=r(56347),nt=r(10711);function lt(e){return Boolean(e)}const ot=n().memo((function({nrPlaylists:e,showYourEpisodesCard:t,showLocalFilesCard:r}){const{filter:o}=(0,a.useContext)(w.fo),{sortState:s}=(0,a.useContext)(P.Q),i=(0,a.useContext)(Oe.BS),[m,d]=(0,a.useState)(e),p=(0,a.useRef)(null),b=(0,l.v9)(we.Gg).user,{spec:v,UBIFragment:O}=(0,h.fU)(f.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:playlists",identifier:c.W.YOURLIBRARY_PLAYLISTS}}),C=(0,a.useMemo)((()=>v.headerFactory()),[v]),S=(0,a.useMemo)((()=>o?[]:[(0,Se.I2)(b),(0,Se.I2)(b),t?(0,Se.bl)(b):null,r?(0,Se.gB)(b):null].filter(lt)),[o,r,t,b]),I=(0,a.useCallback)((()=>{null!=p&&p.current&&p.current.update()}),[p]);(0,Oe.iu)(I);const D=(0,a.useCallback)((async(e,t)=>{const r=S.slice(e),a=await i.getContents({offset:e-(S.length-r.length),limit:t,filter:o,sort:(0,A.pT)(s),flatten:!0,decorateImagesAndOwner:!0});return a.totalItemCount!==m&&d(a.totalItemCount),r.concat(a.items)}),[S,i,o,s,m]),R=(0,a.useCallback)(((e,t,r)=>{if(e.id===Se.G&&1===t)return null;const a=function(e,t,r){return e===Se.G&&r>1?Ye:e===Se.nk?rt:e===Se.Y3?nt.T:(0,Ae.U)(t)}(e.id,e.uri,r);return n().createElement(E.ZP,{key:e.uri,value:"card",index:t},n().createElement(a,{entity:e,index:t}))}),[]);return(0,a.useEffect)((()=>{p.current&&p.current.update()}),[s,o,e]),n().createElement(O,{spec:v},n().createElement(O,{spec:C},n().createElement("div",{className:Q.Z.header},n().createElement(y.Dy,{as:"h1",variant:g.LF.canon},u.ag.get("playlists")),n().createElement(a.Suspense,{fallback:null},n().createElement(x.E,{filterPlaceholder:u.ag.get("collection.filter.playlists"),sortOptions:A.w0})))),n().createElement(k.g,{nrCards:m+S.length,renderCard:R,fetchData:D,cardGridApiRef:p}))})),ct=n().memo((()=>{const e=(0,Oe.Rt)(),t=(0,at.x)(),r=(0,ve.ui)(),{createPlaylist:l}=(0,Ce.K)(),[o]=(0,ke.z)(Ke.J,!1),c=(0,a.useCallback)((()=>{l()}),[l]);return null===e||null===t?n().createElement(S.h,{hasError:!1,errorMessage:u.ag.get("error.request-collection-albums-failure")}):null!=e&&e.playlistCount?n().createElement(ot,{nrPlaylists:e.playlistCount,showYourEpisodesCard:t.totalLength>0,showLocalFilesCard:r.canFetchAllTracks&&o}):n().createElement(O.u,{linkTitle:u.ag.get("collection.empty-page.playlists-cta"),onClick:c,title:u.ag.get("collection.empty-page.playlists-title"),message:u.ag.get("collection.empty-page.playlists-subtitle")},n().createElement(Me.Z,null))})),st=n().memo((()=>n().createElement(P.$,{uri:"collection/playlists",defaultSortOption:K},n().createElement(w.hz,{uri:"collection/playlists"},n().createElement(ct,null)))));var it=r(63926),ut=r(21794),mt=r(35808),dt=r(19480);const pt=()=>{const e="ginger-audio-shows-top-20-web",{view:t}=(0,mt.P)(e);if(!t)return null;const{content:r,name:a}=t,{total:l=0,items:o}=r;return n().createElement(dt.P,{title:a,total:l,seeAllUri:(0,ut.p)(e)},o.map((e=>{const t=(0,Ae.U)(e.uri);return n().createElement(t,{key:e.uri,entity:e})})))},gt=n().memo((({nrShows:e})=>{const t=(0,a.useContext)(b.H),{filter:r}=(0,a.useContext)(w.fo),{sortState:o}=(0,a.useContext)(P.Q),s=(0,a.useRef)(!1),i=(0,a.useRef)({entities:[],total:e}),[m,d]=(0,a.useState)(0),{user:p}=(0,l.v9)(we.Gg),{spec:v,UBIFragment:k}=(0,h.fU)(f.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:podcasts",identifier:c.W.YOURLIBRARY_SHOWS}}),O=(0,a.useMemo)((()=>v.headerFactory()),[v]),C=(0,a.useCallback)((async(e,a,n=!1)=>{if(!s.current){s.current=!n;const l=await t.getShows({offset:e,limit:a,filter:r,sort:(0,A.EY)(o)});i.current=T(l,n,i.current),s.current=!1,d((e=>e+1))}}),[t,r,o,i]),S=(0,a.useCallback)((e=>{i.current=F(e,i.current),d((e=>e+1))}),[]);(0,a.useEffect)((()=>{C(0,50,!!m)}),[r,o]);const I=(0,a.useCallback)((()=>{i.current.entities.length!==i.current.total&&C(i.current.entities.length,50)}),[C,i]);return n().createElement(k,{spec:v},n().createElement(te.C,{onReachBottom:I},n().createElement(k,{spec:O},n().createElement("div",{className:Q.Z.header},n().createElement(y.Dy,{as:"h1",variant:g.LF.canon},u.ag.get("podcasts")),n().createElement(a.Suspense,{fallback:null},n().createElement(x.E,{filterPlaceholder:u.ag.get("collection.filter.podcasts"),sortOptions:A.a6})))),n().createElement(ne.Y,{onCollectionItemRemove:S},n().createElement(E.ZP,{value:"EntitiesGrid"},n().createElement(it.T,{render:()=>{const e=(0,Se.bl)(p),t=r||!e||0===i.current.entities.length?[]:[n().createElement(a.Suspense,{fallback:null,key:"your-episodes-card"},n().createElement(_e,{index:0,entity:e}))],l=t.length>0;return t.concat(H(i.current.entities).map(((e,t)=>{const r=(0,Ae.U)(e.uri),a=l?t+1:t;return n().createElement(E.ZP,{key:e.uri,value:"card",index:a},n().createElement(r,{index:a,entity:e}))})))}})))))})),ft=n().memo((()=>{const{total:e}=U();return null===e?n().createElement(S.h,{hasError:!1,errorMessage:u.ag.get("error.request-collection-shows-failure")}):e?n().createElement(gt,{nrShows:e}):n().createElement("div",{className:"CollectionShowsContainer"},n().createElement(O.u,{linkTo:"/genre/podcasts-web",linkTitle:u.ag.get("collection.empty-page.shows-cta"),message:u.ag.get("collection.empty-page.shows-subtitle"),title:u.ag.get("collection.empty-page.shows-title")},n().createElement(Ee.Z,null)),n().createElement(pt,null))})),Et=n().memo((()=>n().createElement(P.$,{uri:"collection/podcasts",defaultSortOption:z},n().createElement(w.hz,{uri:"collection/podcasts"},n().createElement(ft,null)))));var yt=r(48414),bt=r(32648),ht=r(85951);var vt=r(9746),kt=r(28638);function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){D()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const St=({isAudiobooksEnabled:e})=>{const t=function(){const[e,t]=(0,a.useState)(window.innerWidth),{scrollNodeChildRef:r}=(0,a.useContext)(bt.VX),n=(0,We.y)((e=>{null!=e&&e.width&&t(e.width)}),250);return(0,ht.y)({refOrElement:r,observeOnly:"width",onResize:n}),e}(),r=(0,l.v9)(d),{spec:o,logger:c}=(0,h.fU)(yt.createDesktopLibraryTopbarEventFactory,{data:{identifier:"collection",uri:"spotify:user:@:collection"}}),s=(0,a.useMemo)((()=>[{title:u.ag.get("playlists"),itemId:"collection.tab-playlists",to:"/collection/playlists",uri:"spotify:user:@:collection:playlists"},...r?[{title:u.ag.get("podcasts"),itemId:"collection.tab-podcasts",to:"/collection/podcasts",uri:"spotify:user:@:collection:podcasts"}]:[],...e?[{title:"Audiobooks",itemId:"collection.tab-audiobooks",to:"/collection/audiobooks",uri:"spotify:user:@:collection:audiobooks"}]:[],{title:u.ag.get("artists"),itemId:"collection.tab-artists",to:"/collection/artists",uri:"spotify:user:@:collection:artists"},{title:u.ag.get("albums"),itemId:"collection.tab-albums",to:"/collection/albums",uri:"spotify:user:@:collection:albums"}].map(((e,t)=>{const r=e.uri;return Ct(Ct({},e),{},{handleClick:()=>{const e=o.linkFactory({position:t,uri:r}).hitUiNavigate({destination:r});c.logInteraction(e)}})}))),[r,e,c,o]);return n().createElement(kt.w,null,n().createElement(vt.n,{className:Q.Z.tabBar,links:s,windowSize:t}))},wt=n().lazy((async()=>await r.e(246).then(r.bind(r,30990)))),At=()=>{const e=(0,l.v9)(d),t=(0,o.W6)(s.uB);return(0,m.z)("your_library"),n().createElement("section",{className:"contentSpacing"},n().createElement(p.$,null,u.ag.get("collection.page-title")),n().createElement(i.N,{path:"/collection/artists",pageId:c.W.YOURLIBRARY_ARTISTS},n().createElement(se,null)),n().createElement(i.N,{path:"/collection/albums",pageId:c.W.YOURLIBRARY_ALBUMS},n().createElement(J,null)),n().createElement(i.N,{path:"/collection/playlists",pageId:c.W.YOURLIBRARY_PLAYLISTS},n().createElement(st,null)),e&&n().createElement(i.N,{path:"/collection/podcasts",pageId:c.W.YOURLIBRARY_SHOWS},n().createElement(Et,null)),t&&n().createElement(i.N,{path:"/collection/audiobooks",pageId:c.W.YOURLIBRARY_AUDIOBOOKS},n().createElement(he,null)),n().createElement(i.N,{path:"/collection/music-downloads",pageId:c.W.YOURLIBRARY_DOWNLOADS},n().createElement(wt,null)),n().createElement(St,{isAudiobooksEnabled:t}))},Pt=At},14590:(e,t,r)=>{r.d(t,{Q:()=>c,$:()=>s});var a=r(67294),n=r.n(a),l=r(22583),o=r(5292);const c=(0,a.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a LibrarySortProvider")},sortState:o.oT.ADDED_AT}),s=n().memo((function({uri:e,children:t,defaultSortOption:r}){return n().createElement(l.r,{uri:e,defaultState:r,sortContext:c},t)}))},88852:(e,t,r)=>{r.d(t,{E:()=>g});var a=r(67294),n=r.n(a),l=r(98816),o=r(45342),c=r(1496),s=r(61048),i=r(95289),u=r(5292),m=r(14590);const d=n().memo((({sortOptions:e,onSort:t})=>{const{sortState:r,setSortState:l}=(0,a.useContext)(m.Q),o=(0,a.useCallback)((e=>{const r=u.ei[e];null==t||t(r),l(r)}),[t,l]),c=e.map((e=>u.MY[e])),s=u.MY[r];return n().createElement(i.A,{options:c,onSelect:o,selected:s})})),p="QhF9ZR7YOiJeFiEnfkOr",g=n().memo((({filterPlaceholder:e,sortOptions:t})=>{const{spec:r,logger:i}=(0,c.fU)(l.createDesktopSearchBarEventFactory,{}),u=(0,a.useContext)(o.H),m=(0,a.useCallback)((()=>{i.logInteraction(r.filterFieldFactory().keyStrokeFilter())}),[i,r]),g=(0,a.useCallback)((()=>{i.logInteraction(r.filterFieldFactory().hitClearFilter())}),[i,r]),f=(0,a.useCallback)((()=>{i.logInteraction(r.sortButtonFactory().hitSort())}),[i,r]);return n().createElement("div",{className:p},null!=u&&u.getCapabilities().canFilter?n().createElement(a.Suspense,{fallback:null},n().createElement(s.K,{placeholder:e,onFilter:m,onClear:g})):null,null!=u&&u.getCapabilities().canSort?n().createElement(d,{sortOptions:t,onSort:f}):null)}))},70369:(e,t,r)=>{r.d(t,{$:()=>a.$});var a=r(22578)},9746:(e,t,r)=>{r.d(t,{n:()=>P});var a=r(67294),n=r.n(a),l=r(94184),o=r.n(l),c=r(96685),s=r(26115),i=r(74594),u=r(20657),m=r(32626),d=r(76343),p=r(43031),g=r(30005),f=r(21691);const E="BkpKedcdaMGbvgXMlmcg",y="muYk5XIwKmqR9iNibk_f",b="queue-tabBar-header",h="m20ShRDiGGDpJ5LSABTi",v="Hvv0e7WKQ4kyftgSQJhg",k="yxf_6IsQEmHjijEBUMTP",O="oaNVBli46GtVjaQKB15g",C="JdlKTdpMquftpMwwegZo",S="Nts_ArOCGeROTDZND3M6",w="FvDsfgxSvLvL3q8d7nQv",A=({items:e,activeItemId:t,setActiveDropdownItem:r})=>n().createElement(g.v,null,e.map((e=>n().createElement(f.s,{key:e.to,role:"menuitemradio",to:e.to,exact:!0,"aria-checked":e.itemId===t,className:k,activeClassName:O,isActive:t=>!!t&&(r(e),!0),onClick:()=>{var t;null===(t=e.handleClick)||void 0===t||t.call(e),r(e)}},e.title)))),P=n().memo((({isCentered:e,links:t,landmarkLabel:r,className:l,windowSize:g=1/0})=>{const[f,k]=(0,a.useState)(null),P=(0,a.useRef)(null),[x,I]=(0,a.useState)([]),[D,R]=(0,a.useState)(0),[L,N]=(0,a.useState)([]);(0,a.useEffect)((()=>{P.current&&R(P.current.clientWidth)}),[g]),(0,a.useEffect)((()=>{if(!P.current)return;const e=Array.from(P.current.children).map((e=>e.clientWidth));I(e)}),[t]),(0,a.useEffect)((()=>{if(!P.current)return;if(x.slice(0,-1).reduce(((e,t)=>e+t),0)<=D)return void N([]);const e=x.reduce(((e,t)=>e>t?e:t),0),t=[];let r=e;x.forEach(((e,a)=>{D>=r+e?r+=e:t.push(a)})),N(t)}),[D,x]);const j=(0,a.useCallback)((e=>!!e&&(k(null),!0)),[]);return n().createElement("nav",{className:o()(l,E),"aria-label":r},n().createElement("ul",{className:e?y:S,ref:P},t.filter(((e,t)=>!L.includes(t))).map((e=>n().createElement("li",{key:e.to,className:b},n().createElement(p.O,{exact:!0,className:C,activeClassName:O,to:e.to,isActive:j,onClick:e.handleClick},n().createElement(d.Dy,{variant:c.LF.mestoBold},e.title))))),L.length||0===x.length?n().createElement("li",{className:b},n().createElement(m.xV,{renderInline:!0,menu:n().createElement(A,{items:t.filter(((e,t)=>L.includes(t))),activeItemId:null==f?void 0:f.itemId,setActiveDropdownItem:k})},((e,t,r)=>n().createElement("button",{className:o()(h,{[v]:f}),type:"button",onClick:t,ref:r},n().createElement(d.Dy,{as:"span",variant:c.LF.mestoBold},f?f.title:u.ag.get("more")),e?n().createElement(s.q,{iconSize:16,className:w}):n().createElement(i.m,{iconSize:16,className:w}))))):null))}))},35808:(e,t,r)=>{r.d(t,{P:()=>s});var a=r(94321),n=r(29255),l=r(67294),o=r(65858),c=r(43088);const s=e=>{const t=(0,c.n)(),[r,s]=(0,l.useState)((()=>t.getViewFromCache(e))),i=(0,o.v9)(a.rZ),{locale:u,overrides:m}=(0,o.v9)(n.Gg),d=(null==m?void 0:m.country)||i,p=(null==m?void 0:m.locale)||u;(0,l.useEffect)((()=>{t.getView(e,{country:d,locale:p}).then((e=>{s(e)}))}),[d,p,e,t]);return{view:r,getNextPage:(0,l.useCallback)((()=>{t.getMore(e).then((e=>{e&&s(e)}))}),[e,t]),refreshContents:(0,l.useCallback)((()=>{t.getView(e,{country:d,locale:p,ignoreCache:!0}).then((e=>{s(e)}))}),[d,p,e,t])}}},55084:(e,t,r)=>{r.d(t,{Z:()=>a});const a={header:"Kqd6YgAEH_L9D3UK44p0",tabBar:"yPDOWTfndoixSqsbq6Re",AddToPlaylistIcon:"k84l_utp2OugbjNwAneO"}}}]);
//# sourceMappingURL=xpui-routes-collection.js.map