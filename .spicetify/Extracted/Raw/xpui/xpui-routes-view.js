"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[450],{70369:(e,t,n)=>{n.d(t,{$:()=>r.$});var r=n(22578)},86964:(e,t,n)=>{n.d(t,{c:()=>O});var r=n(59713),l=n.n(r),a=n(67294),o=n.n(a),i=n(18686),c=n(42922),s=n(21794),u=n(92851),m=n(56661),d=n(44794),v=n(44503),g=n(76343),E=n(67892);const f="EPMDgp7znILo0hvyirzv",b="noUm6pjQ6KWq7mVxYDor",p="PqnKjxzJ1Zvr9qKRlRbO",h="uuBQS9Ym_VPmAQrLhPQb",y=e=>(0,d.W6)(v.sE)?o().createElement(E.Z,{to:e.uri,target:"_blank",className:f},o().createElement("div",{className:b}),o().createElement(g.Dy,{className:p,as:"h2",variant:"alto"},e.label),o().createElement(g.Dy,{className:h,as:"p",variant:"mesto"},e.tagline)):null,w=e=>o().createElement(a.Suspense,{fallback:null},o().createElement(y,e));var k=n(5001),C=n(1150);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const D=e=>{var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith("scc-corona")},O=({spaces:e,viewName:t,viewId:n,isAnonymous:r})=>{const l=(0,a.useCallback)((e=>{const t=((e,t)=>{let{uri:n}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),n=(0,u.$)(n),"hub-browse-grid"===t&&(n=n.replace(":view:",":genre:"))),n})(e,n),r=(0,m.U)(t);return o().createElement(r,{key:e.href,entity:A(A({},e),{},{uri:t})})}),[n]),d=(0,a.useCallback)(((e,t)=>{const n=(0,m.U)(e.uri);return o().createElement(c.JL,{key:e.uri||t,value:"card",index:t},o().createElement(n,{entity:e}))}),[]),v=(0,a.useCallback)(((e,t)=>"link"===e.type?l(e):d(e,t)),[d,l]),g=(0,a.useCallback)((e=>!!D(e)||!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||r&&"uniquely-yours-shelf"===e.id)),[r]);return e&&0!==e.length?e[0].content?o().createElement(o().Fragment,null,e.filter(g).map(((e,t)=>{const r=e.content&&(0,s.p)((0,s.S)(e.href));if(e.id===C.RECENTLY_PLAYED_VIEW_ID||e.id===k.uK)return o().createElement(c.JL,{value:"headered-grid",index:t,key:e.id},o().createElement(C.RecentlyPlayed,{showAll:!1}));if(D(e)){const t=e.content.items[0];return t&&t.name&&t.description&&t.href?o().createElement(w,{label:t.name,tagline:t.description,uri:t.href}):null}return o().createElement(c.JL,{value:"headered-grid",index:t,key:e.id},o().createElement(i.q,{total:e.content.total,seeAllUri:r,pageId:n,title:e.name,tagline:e.tag_line||void 0,index:t,id:e.id},e.content.items.map(v)))}))):o().createElement(c.JL,{value:"headered-grid"},o().createElement(i.q,{showAll:!0,title:t,total:(null==e?void 0:e.length)||0,index:0,id:null!=n?n:"spaces-see-all-grid"},null==e?void 0:e.map(v))):null}},71479:(e,t,n)=>{n.r(t),n.d(t,{DISALLOWED_VIEWS:()=>N,View:()=>j,default:()=>x});var r=n(67294),l=n.n(r),a=n(94184),o=n.n(a),i=n(65858),c=n(16528),s=n(20657),u=n(51574),m=n(33241),d=n(31595),v=n(21794),g=n(35808),E=n(70369),f=n(42273),b=n(59482),p=n(72907),h=n(1663),y=n(86964),w=n(94321),k=n(29255);const C="XD65NhAD6ebYxMaW9cZZ",P="AJqEY1gblQDvIgjU0jAH",A="Ft1cMGlqDsCbqmXQyeKN",D="zlBEnsMyvUhuHSEtst4Q",O=e=>"HEADER"===e.rendering,I=e=>{const{title:t,images:n,backgroundColor:r}=e;return l().createElement(l().Fragment,null,((e,t=[],n)=>{if(!e)return null;const r=t.filter((e=>"background"===e.name));return l().createElement(f.gF,{backgroundImages:r,backgroundColor:n,size:0===r.length?f.fR.SMALL:f.fR.DEFAULT},l().createElement(b.W,null,l().createElement(p.i,{text:e})),l().createElement(f.sP,null,l().createElement(f.xd,null,e)))})(t,n,r))},N=["ginger-genre-affinity"],j=l().memo((({viewData:e,viewId:t,backgroundColor:n,isFullyLoaded:a,country:i,isGenre:v,isAnonymous:g,getNextPage:b,refreshContents:p})=>{const w=(0,c.k6)(),k=!!e,j=null==e?void 0:e.name;(0,r.useEffect)((()=>{i&&"POP"!==w.action&&t&&p()}),[i,t,w.action,k,p]);const x=(0,r.useCallback)((()=>N.some((t=>{var n;return null==e||null===(n=e.href)||void 0===n?void 0:n.includes(t)}))),[e]),L=(0,r.useCallback)((()=>{if(!e)return;const t=x();a||t||b()}),[e,x,a,b]),S=(0,r.useMemo)((()=>{const{content:{items:t=[]}={}}=e||{},n=t.filter(O);return n.length>0?n[0]:null}),[e]),M=(0,r.useMemo)((()=>{const{name:t}=e||{};return S?S.name:n&&t}),[n,S,e]),_=(0,r.useMemo)((()=>v||Boolean(M)),[v,M]),q=(0,r.useMemo)((()=>!(!e||!Array.isArray(e.content.items))&&_),[_,e]),F=(0,f.oX)(t)?l().createElement(f.YD,{isAnonymous:g}):l().createElement(I,{title:(null==S?void 0:S.name)||M,images:(null==S?void 0:S.images)||[],backgroundColor:n}),R=null==e?void 0:e.content.items;return e?l().createElement(l().Fragment,null,j?l().createElement(E.$,null,j):null,l().createElement(m.C,{onReachBottom:L},l().createElement("section",{className:o()({[C]:(null==S?void 0:S.name)||M})},q&&l().createElement(d.H,{color:n||null}),_&&F,l().createElement("div",{className:A},_&&F&&l().createElement(u.I,{backgroundColor:n}),l().createElement("div",{className:o()(P,"contentSpacing",{[D]:v})},l().createElement(y.c,{spaces:R,viewName:e.name,viewId:t,isAnonymous:g})))))):l().createElement(h.h,{hasError:!1,errorMessage:s.ag.get("error.not_found.title.page")})})),x=l().memo((({viewId:e,match:t})=>{const n=e||t.params.viewId,{isAnonymous:r}=(0,i.v9)(k.Gg),a=(0,i.v9)(w.rZ),{view:o,getNextPage:c,refreshContents:s}=(0,g.P)(n),u=!o||null===o.content.next,m=n.endsWith("-page")?n:`${n}-page`,d=(0,i.v9)((e=>{var t,n;return(null===(t=e.browse.allItemsStyle)||void 0===t||null===(n=t[m])||void 0===n?void 0:n.color)||""})),E=e=>e.viewId===n||"href"in e&&e.href===(0,v.p)(n),f=(0,i.v9)((e=>{var t,n,r,l;return(null==e||null===(t=e.browse)||void 0===t||null===(n=t.browseAll)||void 0===n?void 0:n.items.some(E))||(null==e||null===(r=e.browse)||void 0===r||null===(l=r.topGenres)||void 0===l?void 0:l.items.some(E))||!!d}));return l().createElement(j,{viewData:o,isFullyLoaded:u,viewId:n,backgroundColor:d,country:a,isGenre:f,isAnonymous:r,getNextPage:c,refreshContents:s})}))},35808:(e,t,n)=>{n.d(t,{P:()=>c});var r=n(94321),l=n(29255),a=n(67294),o=n(65858),i=n(43088);const c=e=>{const t=(0,i.n)(),[n,c]=(0,a.useState)((()=>t.getViewFromCache(e))),s=(0,o.v9)(r.rZ),{locale:u,overrides:m}=(0,o.v9)(l.Gg),d=(null==m?void 0:m.country)||s,v=(null==m?void 0:m.locale)||u;(0,a.useEffect)((()=>{t.getView(e,{country:d,locale:v}).then((e=>{c(e)}))}),[d,v,e,t]);return{view:n,getNextPage:(0,a.useCallback)((()=>{t.getMore(e).then((e=>{e&&c(e)}))}),[e,t]),refreshContents:(0,a.useCallback)((()=>{t.getView(e,{country:d,locale:v,ignoreCache:!0}).then((e=>{c(e)}))}),[d,v,e,t])}}}}]);
//# sourceMappingURL=xpui-routes-view.js.map