"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[288],{42811:(e,t,a)=>{a.d(t,{Hr:()=>n,qo:()=>c,GJ:()=>l,B$:()=>i,pf:()=>s,ak:()=>o,B:()=>m,X7:()=>u});var r=a(7073);const n=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],c=e=>`spotify:artist:${e}`,l=e=>`spotify:app:artist:${e}`,i=(e,t,a)=>{var r,n;return{artists:[{uri:t,name:a}],images:(null===(r=e.coverArt)||void 0===r?void 0:r.sources)||[],name:e.name,uri:e.uri,year:null===(n=e.date)||void 0===n?void 0:n.year,type:e.type,sharingInfo:e.sharingInfo}},s=e=>{var t,a;return{artists:e.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))),images:(null===(t=e.coverArt)||void 0===t?void 0:t.sources)||[],name:e.name,uri:e.uri,year:null===(a=e.date)||void 0===a?void 0:a.year,type:e.type,sharingInfo:e.sharingInfo}},o=({uri:e,profile:{name:t},visuals:{avatarImage:a}})=>({uri:e,name:t,images:(null==a?void 0:a.sources)||[]}),m=({uri:e,name:t,description:a,images:{items:r},owner:n})=>({uri:e,name:t,owner:{display_name:(null==n?void 0:n.name)||t},description:a||"",images:r[0]&&r[0].sources?r[0].sources:[]}),u=({track:{uri:e,name:t,playcount:a,duration:{totalMilliseconds:n},contentRating:c,artists:{items:l},album:{coverArt:i,uri:s},playability:{playable:o}}},m)=>{var u;return{uri:e,contextUri:m,totalMilliseconds:n,name:t,contentRating:(null==c?void 0:c.label)||r.KS.None,isPlayable:o,playcount:parseInt(a||"0",10),artists:l.map((e=>({uri:e.uri,name:e.profile.name}))),imageUrl:null!=i&&null!==(u=i.sources)&&void 0!==u&&u.length?i.sources[0].url:"",albumUri:s}}},7679:(e,t,a)=>{a.d(t,{k:()=>D});var r=a(67294),n=a.n(r),c=a(97493),l=a(64656),i=a(96685),s=a(94880),o=a(76343),m=a(43315),u=a(25340),g=a(67892);const d="lKqKagNqQ8VlvdFmruT3",v="Z2uK7sMMyCWb6pniuNXi",E="NIMwRV_NRJ13Vqumxn_j",h="t5KPIGEuuRNJCJOxPA1o",y="_32BBOf0wCFJBS35JKFU0",p="vdvOAp_f8lhHOp7y1BqJ",_="qHSZnGIgaXfml2KOzmbd",b="zX69m46sU0G_VEwc4Fiy",N="lKkeD_aRHPt1Sb7cc031",f="hBa5HsnSqAQj7ngrUaoq",k="WD2YMKFx0lQZSbihWLOR",D=n().memo((e=>{const{entity:t,isVirtual:a,shouldCombineRecs:r}=e,{venue:{name:D,location:{name:F}}}=t,L=t.artists[0],w=(0,u.ij)(t),I=new Date(t.date.isoString),U=a?c.q:l.K;return n().createElement(g.r,{to:`/concert/${t.id}`,className:d},L.imageUri?n().createElement(s.Z,null,n().createElement("div",{"data-testid":"image-container",className:k,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${L.imageUri})`}})):null,n().createElement("time",{className:v,dateTime:t.date.isoString},n().createElement(o.Dy.h5,{variant:i.LF.minuetBold,className:E},(0,u.lJ)(I)),n().createElement(o.Dy.h1,{variant:i.LF.canon,className:h},I.getDate())),n().createElement("div",{className:y,dir:"auto"},n().createElement(o.Dy.h2,{className:f,variant:i.LF.minuetBold},(0,m.FO)(I),", ",(0,u.b8)(I)),n().createElement(o.Dy.h2,{variant:i.LF.cello,weight:i.LF.bold,className:p},w),n().createElement("div",{className:_},r?n().createElement(U,{className:b,"aria-label":a?"Virtual Event":"In-Person Event",iconSize:16}):null,n().createElement(o.Dy.h2,{className:N,variant:i.LF.mesto,"data-testid":"location-name"},a?D:`${D}, ${F}`))))}))},63600:(e,t,a)=>{a.r(t),a.d(t,{default:()=>he});var r=a(67294),n=a.n(r),c=a(65858),l=a(16528),i=a(20657),s=a(6581),o=a(50458),m=a(1663),u=a(67154),g=a.n(u),d=a(96685),v=a(70369),E=a(51574),h=a(16229),y=a(20246),p=a(42922),_=a(76343),b=a(31595),N=a(78688),f=a(56802),k=a(42811),D=a(95661),F=a(3634),L=a(94880),w=a(67892);const I="XmR5VFpqXOcxRvhuf6OB",U="FMBuX41vVL9ygMFf52q9",C="jrpzZ1XEfPYmTzzEBH1W",$="kK2jEStQ6AWhN9v162OD",x="y_WhxKf0GOLPKL4N7JcZ",O="OXtphmDJvUgzRVXRIoDb",R=n().memo((e=>{const{entity:t,headliner:a}=e,{imageUri:r,name:c,uri:l}=t;return n().createElement(w.r,{to:l,className:I},r?n().createElement(L.Z,null,n().createElement("div",{"data-testid":"image-container",className:O,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${r})`}})):null,n().createElement("div",{className:U},a&&n().createElement("div",{className:$},n().createElement(_.Dy.h4,{variant:d.LF.minuet,className:x,weight:d.LF.bold},i.ag.get("concert.label.headliner"))),n().createElement(_.Dy.h2,{variant:d.LF.alto,className:C},c)))}));var q=a(7679);const A={concertsHubCard:"SUrCW3obzIDfsUU5JjUe",metadata:"SvrctMubvuRpFQjGuWuu",title:"mAyOOeCvESEl2oOxbrcZ",image:"x6aKjTdXoh6wEI0FxAc9"},M=i.ag.get("concerts_browse_more"),K=n().memo((()=>n().createElement(w.r,{to:"spotify:concerts",className:A.concertsHubCard},n().createElement(L.Z,null,n().createElement("div",{className:A.image,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})),n().createElement("div",{className:A.metadata},n().createElement(_.Dy.h2,{variant:d.LF.canon,className:A.name},M)))));var P=a(25340),B=a(30005),S=a(57612),Z=a(21366);const J=n().memo((({uri:e})=>n().createElement(p.ZP,{value:"concert"},n().createElement(B.v,null,n().createElement(Z.q,null,n().createElement(S.Jx,{uri:e,displayText:i.ag.get("context-menu.copy-concert-link")}),n().createElement(S.W2,{uri:e})),n().createElement(S.h$,{uri:e})))));var T=a(42273),X=a(59482),Y=a(72907),z=a(19480);const V="bLRQVE03npkoDH4AVgyA",W="aQZuxpEGEQFY8seXG_5u",j="tApwO6Eo2KrY54dPF5rh",G="D6Ii4VMqX8Cy2r3lNGUo",H="uByT09GIHrPLs70q9_RA",Q="ynMqv4SpTpsOAMvxXx74",ee="k0YqeWqy42nWqN47Tahi",te="B5z66MUsuwPzqY1KetM5",ae="Njcw2Y4etkXwv9dEIYkn",re="WjnheotHcKf0viISW86a",ne="sRlMw_P5Kl4CLRFxt_rx",ce="lF4si0jLixMy_ly0clVG",le="BJJKtcNolkRoBpuN8vw8",ie="vDv3jeam35Syks1nR2z2",se="oaLQ0R88z7hv1Vrf4nbB",oe=(e,t)=>({artists:[{uri:t,name:e.artistName}],images:[{url:e.imageUri,height:100,width:100}],name:e.name,uri:e.uri,type:N.albumType.ALBUM}),me=e=>{const t=new Date(Date.parse(e.date));return n().createElement("div",{className:V},n().createElement(_.Dy.h3,{variant:d.LF.canon,className:W},(0,P.NL)(t)))},ue=e=>{const{clickThrus:t,ticketing:a,date:r,venue:c,location:l,clickThruUrl:s,id:o,category:m,lat:u,lon:g,ticketAvailabilityTranslated:v}=e,E=new Date(Date.parse(r)),p=`spotify:concert:${o}`,b="ONLINE"===m,N=(0,f.o)();let k="";if(!t||!t.length)return null;const F=t[0].partnerDisplayName;k="Songkick"===F?i.ag.get("concert.header.partner_songkick_attribution",F):a&&a[0]&&a[0].minPrice?i.ag.get("concert.header.partner_price_attribution",a[0].minPrice,F):i.ag.get("concert.header.partner_attribution",F),b&&(k=i.ag.get("concert_available_through",F));const L=b?i.ag.get("concert_find_virtual_event"):i.ag.get("concert.button.see_tickets");if((0,P.O1)(E))return n().createElement("div",{className:ee},n().createElement(_.Dy.h3,{variant:d.LF.canon},i.ag.get("concert_event_ended")),n().createElement(_.Dy.span,null,n().createElement(w.Z,{to:"spotify:concerts"},i.ag.get("concert_past_message"))));return n().createElement("div",{className:ee},n().createElement(_.Dy.h3,{variant:d.LF.canon},(()=>{if(b)return n().createElement(_.Dy.h3,{variant:d.LF.canon},c);const e=`https://maps.google.com/?q=${encodeURIComponent(`${c},${l}`)}&ll=${u},${g}`;return n().createElement(w.Z,{to:e,target:"_blank"},n().createElement(_.Dy.h3,{variant:d.LF.canon},`${c}, ${l}`))})()),n().createElement(_.Dy.h3,{variant:d.LF.mesto,className:se},(0,P.Ms)(E)," â€¢ ",(0,P.b8)(E)),n().createElement(_.Dy.h3,{className:Q,variant:d.LF.mesto},k),v&&v.length>0&&n().createElement(_.Dy.h3,{className:Q,variant:d.LF.mesto},v),n().createElement("div",{className:te},n().createElement(w.Z,{draggable:!1,className:ae,to:s,target:"_blank"},n().createElement(h.Y,{version:"secondary",onClick:function(){N({targetUri:p,intent:"find-concert",type:"click"})}},L)),n().createElement(y.y,{menu:n().createElement(J,{uri:p})},n().createElement(D.z,{size:32,className:re}))))},ge=e=>{const{albums:t,artists:a}=e,r=t.reduce(((e,t)=>{const a=t.artistName;return e[a]?e[a].push(t):e[a]=[t],e}),{});return n().createElement("div",{className:ne},a.map(((e,t)=>{const a=r[e.name]||[],c=a.length+2;let l=a.map(((t,a)=>n().createElement(F.r,{index:a,key:a,entity:oe(t,e.uri)})));return l=[null,n().createElement(R,{entity:e,headliner:0===t})].concat(l),n().createElement(p.ZP,{value:"headered-grid",index:t},n().createElement(z.P,{key:t,title:0===t?i.ag.get("concert_lineup"):"",total:c,seeAllUri:`${(0,k.GJ)(e.id)}:discography`,seeAllLabel:i.ag.get("artist-page.show-discography")},l))})))},de=e=>{const t=e.upcomingConcerts;if(!t||t.length<1)return null;const a=t.map((e=>n().createElement(q.k,{entity:e})));return a.unshift(n().createElement(K,null)),n().createElement("div",{className:ie},n().createElement(p.ZP,{value:"headered-grid"},n().createElement(z.P,{title:i.ag.get("concerts_more_events"),total:t.length+1},a)))},ve=e=>{const{concert:t,upcomingConcerts:a,artists:r,albums:c,color:l,headerImageUri:s,ticketAvailabilityTranslated:o}=e.concert,m=[{url:s,width:100,height:100}];(0,b.Y)(l);const u=(0,f.o)();const d="ONLINE"===t.category?i.ag.get("concert_find_virtual_event"):i.ag.get("concert.button.see_tickets");return n().createElement("section",{className:G},n().createElement(v.$,null,(0,P.Yl)(t)),n().createElement(T.gF,{backgroundImages:m,backgroundColor:l},n().createElement(T.sP,null,n().createElement(T.T0,null,n().createElement(me,t)),n().createElement(T.xd,null,(0,P.Yl)(t))),n().createElement(X.W,null,n().createElement("div",{className:ce},n().createElement(Y.i,{text:(0,P.Yl)(t)}),n().createElement(w.Z,{draggable:!1,className:ae,to:t.clickThruUrl,target:"_blank"},n().createElement(h.Y,{version:"secondary",className:le,onClick:function(){u({targetUri:`spotify:concert:${t.id}`,intent:"find-concert",type:"click"})}},d))))),n().createElement("div",{className:j},n().createElement(E.I,{backgroundColor:l}),n().createElement("div",{className:H},n().createElement(ue,g()({},t,{ticketAvailabilityTranslated:o})),n().createElement(ge,{artists:r,albums:c}),n().createElement(de,{upcomingConcerts:a}))))},Ee=n().memo(ve),he=n().memo((()=>{const{concertId:e}=(0,l.UO)(),t=(0,c.I0)(),a=`spotify:concert:${e}`,u=(0,c.v9)((e=>(0,o.y)(a,e)));return(0,r.useEffect)((()=>{t((0,s.l$)(e))}),[t,e]),u?n().createElement(Ee,{concert:u}):n().createElement(m.h,{hasError:!1,errorMessage:i.ag.get("concert.error.concert_not_found_title")})}))},25340:(e,t,a)=>{a.d(t,{Ms:()=>n,b8:()=>c,lJ:()=>l,NL:()=>i,O1:()=>s,Yl:()=>u,ij:()=>g});var r=a(20657);const n=e=>r.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>r.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),l=e=>r.ag.formatDate(e,{month:"short"}).toUpperCase(),i=e=>r.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase(),s=e=>e<new Date,o={row:{1:e=>r.ag.get("concert.header.entity_title_1",...e),2:e=>r.ag.get("concert.header.entity_title_2",...e),3:e=>r.ag.get("concert.header.entity_title_3",...e),4:e=>r.ag.get("concert.header.entity_title_4",...e),more:e=>r.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>r.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>r.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>r.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>r.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>r.ag.get("concert.header.upcoming_concert_title_more",...e)}},m=(e,t)=>{const a=o[t],r=(e=>{try{var t;return!e.title||!e.festival&&null!==(t=e.artists)&&void 0!==t&&t.length?{artists:e.artists.map((e=>e.name||e.profile.name))}:{title:e.title}}catch(e){return null}})(e);if(r){if(r.title)return r.title;if(r.artists)return r.artists.length>4?a.more(r.artists):a[r.artists.length](r.artists)}return""},u=e=>m(e,"row"),g=e=>m(e,"entity")},70369:(e,t,a)=>{a.d(t,{$:()=>r.$});var r=a(22578)},50458:(e,t,a)=>{function r(e,t){return t.concerts.all[e]||null}a.d(t,{y:()=>r})}}]);
//# sourceMappingURL=xpui-routes-concert.js.map