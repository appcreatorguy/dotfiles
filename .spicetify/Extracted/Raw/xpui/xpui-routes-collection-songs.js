"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[553],{90110:(e,t,a)=>{a.d(t,{q:()=>T,o:()=>R});var l=a(67294),n=a.n(l),r=a(94184),o=a.n(r),s=a(69518),i=a.n(s),c=a(50020),u=a(96895),d=a(20657),m=a(83692),g=a(24656),p=a(69010),E=a(80946),y=a(6116),C=a(38209),f=a(40080);const w="l_MW0G9qeeCKlVJwBykT",k="BKsbV2Xl786X9a09XROH",b="HbKLiGoYM4dpuK8L4TMX",h="_APVWqivXc4YqgsnpFkP",v="VmwiDoU6RpqyzK_n7XRO",D="rEx3EYgBzS8SoY7dmC6x",S="z3zia5snl987x676qe5w";let T;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(T||(T={}));const x=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},R=({uri:e,isFollowing:t,onFollow:a,size:r=T.sm,className:s,onClick:R=(()=>{})})=>{const L={"--size":`${r}px`},{useDownloading:N,useDownloadCapability:A}=(0,l.useContext)(g.I),[O,_]=(0,l.useState)(!1),[P,I]=A(i().isEpisode(e)),[B,M]=(0,l.useState)(!1),{currentAvailability:U,progress:F,beginDownload:K,clearDownload:z}=N(e);((e,t)=>{const a=(0,C.r)(),n=(0,l.useRef)(!1);(0,l.useEffect)((()=>{e===p.V8.DOWNLOADING&&!1===n.current&&(n.current=!0,a.say(d.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const r=(0,f.D)(e);(0,l.useEffect)((()=>{r===p.V8.DOWNLOADING&&e===p.V8.YES&&(n.current=!1,a.say(d.ag.get("download.complete")))}),[a,r,e])})(U,F);const G=(0,l.useCallback)((e=>{I===p.v$.DOWNLOADING_NOT_ALLOWED?M(!0):!1===t?(a(),_(!0)):K(),R(e),x(e)}),[K,I,t,R,a]),Q=(0,l.useCallback)((e=>{z(),x(e),R(e)}),[z,R]);return(0,l.useEffect)((()=>{!0===O&&!0===t&&(K(),_(!1))}),[t,O,K]),P===p.PQ.NO_DOWNLOAD_CAPABILITY?null:I===p.v$.DOWNLOADING_NOT_ALLOWED?n().createElement("div",{className:k},n().createElement(m.w,{label:d.ag.get("download.download")},n().createElement("button",{className:o()(b,s),role:"switch",onClick:G,"aria-label":d.ag.get("download.download"),"aria-checked":!1},n().createElement(c.a,{iconSize:r}))),B&&n().createElement("div",{className:S},n().createElement(E.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{M(!1)}},d.ag.get("download.upsell")))):U===p.V8.YES?n().createElement(m.w,{label:d.ag.get("download.remove")},n().createElement("button",{className:o()(b,s,h),role:"switch",onClick:Q,"aria-label":d.ag.get("download.remove"),"aria-checked":!0},n().createElement(u.C,{iconSize:r}))):U===p.V8.NO?n().createElement(m.w,{label:d.ag.get("download.download")},n().createElement("button",{className:o()(b,s),role:"switch",onClick:G,"aria-label":d.ag.get("download.download"),"aria-checked":!1},n().createElement(c.a,{iconSize:r}))):n().createElement("div",{className:o()(v,s),role:"switch","aria-checked":!0},n().createElement(m.w,{label:d.ag.get("download.cancel")},n().createElement("button",{style:L,className:o()(b,w,s),onClick:Q,"aria-label":d.ag.get("download.cancel")})),n().createElement("span",{style:L,className:o()(D,w)},n().createElement(y.e,{"aria-valuetext":d.ag.get("progress.downloading-tracks"),percentage:F.percentage,size:r})))}},55546:(e,t,a)=>{a.r(t),a.d(t,{LikedSongs:()=>M,LikedSongsContainer:()=>U,default:()=>F,likedSongscolumns:()=>B});var l=a(67294),n=a.n(l),r=a(16528),o=a(20657),s=a(30947),i=a(55911),c=a(53646),u=a(49955),d=a(7692),m=a(92510);var g=a(45342),p=a(84242),E=a(1169),y=a(4236),C=a(30520),f=a(90110),w=a(70369),k=a(37338),b=a(19565),h=a(42273),v=a(59482),D=a(72907),S=a(61048);const T=()=>n().createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 18.538L48 16.806L31.478 7.26801V42.327C29.826 40.299 27.313 39 24.5 39C19.538 39 15.5 43.038 15.5 48C15.5 52.963 19.538 57 24.5 57C29.27 57 33.175 53.266 33.471 48.569L33.478 48.433C33.485 48.288 33.485 47.711 33.478 47.566V10.732L47 18.538ZM31.478 48.434C31.252 52.091 28.213 55 24.5 55C20.64 55 17.5 51.86 17.5 48C17.5 44.141 20.64 41 24.5 41C28.213 41 31.252 43.909 31.478 47.566V48.434Z",fill:"currentColor"}));var x=a(1663),R=a(55120),L=a(71927),N=a(32129),A=a(22423),O=a(28248),_=a(78462),P=a(14893),I=a(2751);const B=[O.QD.INDEX,O.QD.TITLE,O.QD.ALBUM,O.QD.ADDED_AT,O.QD.DURATION],M=({metadata:e,canFilter:t,canSort:a})=>{const{uri:g,name:O,images:P,totalLength:M,owner:U}=e,{filterBoxApiRef:F,filterBoxDomRef:K,tracklistDomRef:z,handleKeyDown:G}=(0,E.Q)(),Q=(0,y.k)()&&M>0,V=M>0,W=(0,l.useMemo)((()=>({id:U.username,uri:U.uri,name:U.username,displayName:U.displayName||void 0,images:U.images||[]})),[U]),X=(0,c.Y5)("#5038a0"),{filter:q}=(0,l.useContext)(A.fo),{sortState:Y}=(0,l.useContext)(_.Gb),Z=(0,r.k6)(),J="POP"!==Z.action?new URLSearchParams(Z.location.search).get("uri"):null,{isPlaying:j,togglePlay:H,usePlayContextItem:$}=(0,p.n)(function(e,t,a){const l={uri:e};return(0,u.R4)(l,t),(0,d.IC)(l,(0,m.cj)(a)),l}(g,(0,C.w)(Y),q),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),ee=()=>H();return n().createElement("section",{role:"presentation",className:I.Z.playlist,"data-testid":"playlist-page",onKeyDown:G},n().createElement(w.$,null,o.ag.get("playlist.page-title",O)),n().createElement(h.gF,{backgroundColor:X},n().createElement(v.W,null,n().createElement(R.$,{size:i.qE.sm,onClick:ee,isPlaying:j,uri:g,ariaPauseLabel:o.ag.get("liked-songs.a11y.pause",O),ariaPlayLabel:o.ag.get("playlist.a11y.play",O)}),n().createElement(D.i,{text:O})),n().createElement("div",{className:I.Z.playlistImageContainer},n().createElement(k.T,{canEdit:!1,name:O,images:P,onClick:()=>{},placeholderType:"playlist"})),n().createElement(h.sP,null,n().createElement(h.dy,{small:!0,uppercase:!0},o.ag.get("playlist")),n().createElement(h.xd,{canEdit:!1,onClick:()=>{}},O),n().createElement(h.QS,{creators:[W],totalTracks:M}))),n().createElement(s.o,{backgroundColor:X},n().createElement(s.F,null,V?n().createElement(R.$,{onClick:ee,isPlaying:j,size:i.qE.lg,uri:g,ariaPauseLabel:o.ag.get("liked-songs.a11y.pause",O),ariaPlayLabel:o.ag.get("playlist.a11y.play",O)}):null,Q?n().createElement(f.o,{uri:g,isFollowing:!0,onFollow:()=>{},size:f.q.md}):null,t&&a&&n().createElement("div",{className:I.Z.searchBoxContainer},n().createElement(l.Suspense,{fallback:null},n().createElement(S.K,{placeholder:o.ag.get("playlist.search_in_playlist"),filterBoxApiRef:F,outerRef:K})),n().createElement(N.c,{columns:_.P0})))),n().createElement("div",{className:"contentSpacing"},M>0?n().createElement(l.Suspense,{fallback:n().createElement(x.h,{hasError:!1,errorMessage:o.ag.get("error.request-collection-tracks-failure")})},n().createElement(L.p,{nrTracks:M,columns:B,collectionUri:g,scrollToUri:J,usePlayContextItem:$,outerDomRef:z})):n().createElement(b.u,{message:o.ag.get("collection.empty-page.songs-subtitle"),title:o.ag.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:o.ag.get("collection.empty-page.songs-cta"),renderInline:!0},n().createElement(T,null))))},U=n().memo((()=>{const e=(0,P.b)(),t=(0,l.useContext)(g.H).getCapabilities();return e?n().createElement(_.kz,{uri:e.uri},n().createElement(A.hz,{uri:e.uri},n().createElement(M,{metadata:e,canFilter:t.canFilter&&e.totalLength>0,canSort:t.canSort&&e.totalLength>0}))):n().createElement(x.h,{hasError:!1,errorMessage:o.ag.get("error.not_found.title.playlist"),loadOffline:t.canModifyOffline})})),F=U},70369:(e,t,a)=>{a.d(t,{$:()=>l.$});var l=a(22578)},37338:(e,t,a)=>{a.d(t,{T:()=>m});var l=a(67294),n=a.n(l),r=a(15212),o=a(25678),s=a(33732),i=a(42273),c=a(22023);const u="Ws8Ec3GREpT5PAUesr9b",d="kHu_FTRgoBLSLeAJtyKY",m=function({onClick:e,name:t,images:a,canEdit:l,placeholderType:m,shape:g=i.Kc.SQUARE,dragUri:p=""}){const[E,y]=(0,s.RH)(a),C=(0,o.VO)(E,y)===o.KO.loaded,f=(0,r.O1)([p],t);return n().createElement("div",{className:u,"data-testid":`${m}-image`,draggable:!!p,onDragStart:f},n().createElement(i.Oe,{loading:"eager",name:t,images:a,placeholderType:m,shape:g}),l&&n().createElement("div",{className:d},n().createElement(c.F,{overlay:C,onClick:e,rounded:g===i.Kc.CIRCLE})))}},71927:(e,t,a)=>{a.d(t,{p:()=>C});var l=a(67294),n=a.n(l),r=a(20657),o=a(42922),s=a(45342),i=a(49961),c=a(30520),u=a(36132),d=a(35308),m=a(22423),g=a(28248),p=a(78462);const E=new Set(p.P0),y=new Set([]),C=n().memo((({nrTracks:e,collectionUri:t,columns:a,uri:C,sortable:f=!0,scrollToUri:w,usePlayContextItem:k,outerDomRef:b})=>{const h=(0,l.useContext)(s.H),v=(0,l.useRef)(null),[D,S]=(0,l.useState)(e),{filter:T}=(0,l.useContext)(m.fo),x=(0,l.useRef)((()=>{})),[R,L]=(0,l.useState)([]),{sortState:N,setSortState:A}=(0,l.useContext)(p.Gb),O=(0,l.useCallback)((e=>{A((0,u.VK)(e,N))}),[A,N]);(0,l.useEffect)((()=>{v.current&&v.current.update()}),[N,T]),(0,l.useEffect)((()=>{v.current&&""===T&&v.current.scrollToFirstSelected()}),[T,D]),(0,l.useEffect)((()=>{S(e)}),[e]),(0,l.useEffect)((()=>{v.current&&w&&v.current.scrollToItem({uri:w})}),[w]);const _=(0,l.useCallback)((e=>{const t=e.map((e=>e.uri));x.current(),null==h||h.remove(...t)}),[h]),P=(0,l.useCallback)(((e,t)=>{x.current=t,e.length>1?L(e):_(e)}),[_]),I=(0,l.useCallback)((async(e,t)=>{const a=await(null==h?void 0:h.getTracks({offset:e,limit:t,uri:C,sort:(0,c.w)(N),filter:T})),l=null==a?void 0:a.totalLength,n=(null==a?void 0:a.items)||[];return"number"==typeof l&&l!==D&&S(l),n}),[T,h,D,N,C]),B=(0,l.useCallback)(((e,a)=>{var l;const r=(0,i.X)(null===(l=e.album)||void 0===l?void 0:l.images,{desiredSize:40,desiredLabel:"small"});return n().createElement(g.dx,{key:a+e.uri,index:a,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isCollaborative:!1,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:[],dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==r?void 0:r.url)||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:k,allowedDropTypes:[],isDisliked:!1,playlistName:""})}),[t,k]);return n().createElement(n().Fragment,null,n().createElement(o.ZP,{value:"liked-songs-tracklist"},n().createElement(g.Pv,{ariaLabel:r.ag.get("sidebar.liked_songs"),key:t,hasHeaderRow:!0,columns:a,sortableColumns:null!=h&&h.getCapabilities().canSort&&f?E:y,sortState:N,onSort:O,renderRow:B,resolveUri:e=>e.uri,resolveUid:e=>e.uri,onRemove:P,nrTracks:D,fetchTracks:I,limit:50,canFetchAllTracks:null==h?void 0:h.getCapabilities().canFetchAllTracks,outerRef:v,outerDomRef:b})),n().createElement(d.h,{title:r.ag.get("remove_from_your_liked_songs"),isOpen:R.length>0,tracks:R,onClose:e=>{e.stopPropagation(),L([])},onRemove:_}))}))},32129:(e,t,a)=>{a.d(t,{c:()=>m});var l=a(67294),n=a.n(l),r=a(20657),o=a(36132),s=a(95289),i=a(5292),c=a(28248),u=a(78462);function d(e){return!!e}const m=({columns:e})=>{const t=[...e];t.splice(2,0,c.QD.ARTIST);const{sortState:a,setSortState:m}=(0,l.useContext)(u.Gb),g=function(e){return null===e.column?i.mE[c.QD.INDEX]:(0,o.cB)(e.column,e.order)?i.mE[c.QD.ARTIST]:i.mE[e.column]}(a),p=(0,l.useCallback)((e=>{m((0,i.WQ)(e,a.column,a.order))}),[m,a.column,a.order]),E=(0,l.useCallback)((()=>null!==a.column),[a.column]),y=t.map((e=>i.mE[e])).filter(d);return n().createElement(s.A,{options:y,onSelect:p,selected:g,isSelectionChanged:E,sortOrder:a.order,heading:r.ag.get("drop_down.sort_by")})}},35308:(e,t,a)=>{a.d(t,{h:()=>E});var l=a(67294),n=a.n(l),r=a(96685),o=a(20657),s=a(16229),i=a(76343),c=a(85105);const u="J0xJcBaKhwl9EIuzvhLg",d="ce3qMCnc2kDVSi7k74fh",m="tlBLfMv0fCxd31jPTQhL",g="AytCc2WKUld6N212Pcpu",p="Uw9aTbBCa7QzSsZSGAG5",E=n().memo((({onClose:e,onRemove:t,isOpen:a,tracks:E,title:y})=>{const C=(0,l.useCallback)((a=>{t(E),e(a)}),[t,e,E]);return n().createElement(c.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:y,isOpen:a},n().createElement("div",{className:u},n().createElement(i.Dy,{as:"h2",variant:r.LF.cello,className:d},y),n().createElement(i.Dy,{as:"p",variant:r.LF.mesto,className:m},o.ag.get("playlist.remove_multiple_description")),n().createElement("div",{className:g},n().createElement(s.Y,{className:p,version:"tertiary",onClick:e},o.ag.get("playlist.delete-cancel")),n().createElement(s.Y,{version:"primary",onClick:C},o.ag.get("remove")))))}))},1169:(e,t,a)=>{a.d(t,{Q:()=>n});var l=a(67294);const n=()=>{const e=(0,l.useRef)(null),t=(0,l.useRef)(null),a=(0,l.useRef)(null);return{filterBoxApiRef:e,filterBoxDomRef:t,tracklistDomRef:a,handleKeyDown:l=>{var n,r,o;"Escape"===l.key&&((null!==(n=t.current)&&void 0!==n&&n.contains(l.target)||null!==(r=a.current)&&void 0!==r&&r.contains(l.target))&&(null===(o=e.current)||void 0===o||o.clearFilter()))}}}},30520:(e,t,a)=>{a.d(t,{w:()=>s});var l=a(74483),n=a(59916),r=a(36132);const o={[n.bD.ADDED_AT]:l._1.ADDED_AT,[n.bD.ADDED_BY]:null,[n.bD.ALBUM]:l._1.ALBUM_NAME,[n.bD.ARTIST]:l._1.ARTIST_NAME,[n.bD.DURATION]:null,[n.bD.TITLE]:l._1.NAME},s=e=>{const t=(0,r._j)(e);if(!t)return;const a=o[t.field],l=t.order;return a&&l?{field:a,order:l}:void 0}},40080:(e,t,a)=>{a.d(t,{D:()=>n});var l=a(67294);function n(e){const t=(0,l.useRef)();return(0,l.useEffect)((()=>{t.current=e}),[e]),t.current}},2751:(e,t,a)=>{a.d(t,{Z:()=>l});const l={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",playlist:"dZ3U5sTGUTdanNamXe1z",searchBoxContainer:"KodyK77Gzjb8NqPGpcgw",recommendedTrackList:"kwe0I8sSNMv3gYBjkRYP",playlistContent:"rezqw3Q4OEPB1m4rmwfw",playlistDescription:"fUYMR7LuRXv0KJWFvRZA",top:"PZkwbwJD1afoCmJkGt8w",header:"yP3JLuwUNDIQHxRFilK3",subtitle:"NCKSUYdZaTMrobq8ilkc",refreshButton:"QmGi2oa43BTcEZ5MCr9T",playlistImageContainer:"oq1ci28WPaRsWkvRiB_J",playlistInlineCurationSection:"Ykd_JWqkR9gSLHISDBwP",playlistInlineCurationWrapper:"g9xHCCSXDR8S5NvTbfwL",playlistInlineCurationTitle:"SMJIXlalPk_TESlyt2pC",playlistInlineCurationCloseButton:"FC40AOSbVM9LXjVi7bjO",playlistInlineCurationBackButton:"hVcUafGrnsA6nD1dJzc5",artistResultListTitle:"rARdlCShKVQsvuXamFOX",seeMore:"STDuzt77yRCueC4Ohenl",emptyStateContainer:"Bl_kg24BjWgcXPokgEKy",searchResultListContainer:"sAPXlA_oxu_8x1Cn0NTC",emptySearchTermContainer:"_Z2TnFjt8GB5ryOtvyti",icon:"tzeKawjOOKFw1KfQ34mG"}}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map